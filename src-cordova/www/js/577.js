(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[577],{4363:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Q});i(246);var a=i(3673),s=i(2323);const l={class:"slide-step"},n={key:0,class:""},o={key:0,class:"slide-step__header column justify-between p-4"},r={align:"left"},c={align:"right"},d=(0,a.Uk)(" Finalizar "),u={class:"row justify-center pr-4 pl-4"},m={class:"text-center mb-3"},p={class:"text-center"},g={key:1,class:"slide-step__carousel-footer"},_={key:0,class:"slide-step__carousel-footer-item"},h={key:1,class:"flex flex-center q-mt-xl"};function f(e,t,i,f,w,k){const b=(0,a.up)("q-icon"),v=(0,a.up)("q-btn"),W=(0,a.up)("q-img"),S=(0,a.up)("q-scroll-area"),x=(0,a.up)("q-carousel-slide"),C=(0,a.up)("q-carousel-control"),q=(0,a.up)("q-carousel"),Z=(0,a.up)("LoadingCircle"),A=(0,a.up)("FeedbackModal");return(0,a.wg)(),(0,a.j4)("div",l,[e.loadingTrainings?((0,a.wg)(),(0,a.j4)("div",h,[(0,a.Wm)(Z,{color:"status-waiting",size:"6em",thickness:5})])):((0,a.wg)(),(0,a.j4)("div",n,[e.slide.items&&e.currSlide==e.slide.items.length-1?((0,a.wg)(),(0,a.j4)("div",o,[(0,a.Wm)("div",r,[(0,a.Wm)(v,{class:"slide-step__header__btn slide-step__header__btn__back",color:"main-alternate",unelevated:"",onClick:e.trainingDetailsHandler,disable:e.loading},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{name:"close",color:"main-background",size:"20px"})])),_:1},8,["onClick","disable"])]),(0,a.Wm)("div",c,[(0,a.Wm)(v,{class:"slide-step__header__btn",color:"main-alternate",unelevated:"","no-caps":"",onClick:e.onFinish,loading:e.loading},{default:(0,a.w5)((()=>[d])),_:1},8,["onClick","loading"])])])):(0,a.kq)("",!0),(0,a.Wm)(q,{swipeable:"",animated:"",modelValue:e.currSlide,"onUpdate:modelValue":t[3]||(t[3]=t=>e.currSlide=t),autoplay:!1,ref:"carousel",class:"slide-step__carousel"},{control:(0,a.w5)((()=>[(0,a.Wm)(C,{position:"bottom-left",offset:[18,18],class:"q-gutter-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{flat:"",round:"",size:"lg",color:"transparent","text-color":"utilities-alternate",icon:"arrow_back_ios",onClick:t[1]||(t[1]=t=>e.$refs.carousel.previous())})])),_:1}),(0,a.Wm)(C,{position:"bottom-right",offset:[18,18],class:"q-gutter-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{flat:"",round:"",size:"lg",color:"transparent","text-color":"utilities-alternate",icon:"arrow_forward_ios",onClick:t[2]||(t[2]=t=>e.$refs.carousel.next())})])),_:1})])),default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.slide.items,((t,i)=>((0,a.wg)(),(0,a.j4)(x,{key:t.id,name:i,class:"slide-step__carousel-item"},{default:(0,a.w5)((()=>[(0,a.Wm)("div",u,[(0,a.Wm)(W,{src:e._getImageUrl(t.image),class:"slide-step__image",height:"300px",fit:"scale-down"},null,8,["src"])]),(0,a.Wm)(S,{class:"slide-step__text-area pr-4 pl-4"},{default:(0,a.w5)((()=>[(0,a.Wm)("h3",m,(0,s.zw)(t.title),1),(0,a.Wm)("p",p,(0,s.zw)(t.description),1)])),_:2},1024)])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"]),e.slide?((0,a.wg)(),(0,a.j4)("div",g,[e.slide.items?((0,a.wg)(),(0,a.j4)("div",_,[(0,a.Wm)("p",null,(0,s.zw)(e.currSlide+1)+" / "+(0,s.zw)(e.slide.items.length),1)])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])),(0,a.Wm)("div",null,[(0,a.Wm)(A,{active:e.hasFeedback,icon:e.feedbackIcon,title:"Leitura de hoje finalizada",subtitle:"Agora vocÃª tem mais conhecimento sobre como se preparar o treino de guia e passeio.",buttonText:"Ir para treino",action:e.trainingDetailsHandler},null,8,["active","icon","action"])])])}var w=i(515),k=i.n(w),b=i(7874),v=i(8745),W=i(3500),S=i(2020),x=i(9048),C=i(6950),q=i(2034);const Z=i(4420),A={components:{LoadingCircle:S.Z,Button:W.Z,Tag:x.Z,FeedbackModal:C.Z},data(){return{currSlide:0,loading:!1,hasFeedback:!1}},computed:k()(k()({},(0,b.rn)("training",["train","slide","loadingTrainings"])),{},{feedbackIcon(){return Z}}),methods:k()(k()(k()(k()(k()({},q.Z),v.Z),(0,b.nv)("training",["ActionGetModule","ActionGetSlide"])),(0,b.OI)("training",["SET_HAS_HEADER"])),{},{timeout(e){return new Promise((t=>setTimeout(t,e)))},async onFinish(){this.loading=!0,await this.timeout(500),this.hasFeedback=!0,this.loading=!1},trainingDetailsHandler(){this.$router.push({name:"TrainingDetails",params:{id:this.train.id}})}}),beforeRouteLeave(e,t,i){this.SET_HAS_HEADER(!0),i()},async mounted(){this.SET_HAS_HEADER(!1),await this.ActionGetModule(this.$route.params.id),await this.ActionGetSlide(this.train.steps[0].slides[0].id)}};var j=i(8240),y=i(4554),z=i(5845),H=i(4593),E=i(4027),T=i(5180),F=i(7607),D=i(7518),I=i.n(D);A.render=f;const Q=A;I()(A,"components",{QBtn:j.Z,QIcon:y.Z,QCarousel:z.Z,QCarouselSlide:H.Z,QImg:E.Z,QScrollArea:T.Z,QCarouselControl:F.Z})}}]);