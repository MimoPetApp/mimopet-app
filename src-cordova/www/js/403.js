(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[403],{8205:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>I});i(246);var a=i(3673),s=i(2323);const l={class:"slide-step"},o={key:0,class:""},n={key:0,class:"slide-step__header column justify-between p-4"},c={align:"left"},r={align:"right"},d=(0,a.Uk)(" Finalizar "),u={class:"column",style:{height:"calc(100% - 140px)","margin-top":"70px"}},m={class:"col-5 center"},p={class:"col q-mt-md"},g={class:"text-center mb-3"},h={class:"text-center"},_={key:1,class:"slide-step__carousel-footer"},b={key:0,class:"slide-step__carousel-footer-item"},k={key:1,class:"flex flex-center q-mt-xl"};function w(e,t,i,w,f,v){const S=(0,a.up)("q-icon"),W=(0,a.up)("q-btn"),y=(0,a.up)("q-img"),C=(0,a.up)("q-scroll-area"),q=(0,a.up)("q-carousel-slide"),x=(0,a.up)("q-carousel-control"),j=(0,a.up)("q-carousel"),A=(0,a.up)("LoadingCircle"),Z=(0,a.up)("FeedbackModal");return(0,a.wg)(),(0,a.j4)("div",l,[e.loadingTrainings?((0,a.wg)(),(0,a.j4)("div",k,[(0,a.Wm)(A,{color:"status-waiting",size:"6em",thickness:5})])):((0,a.wg)(),(0,a.j4)("div",o,[e.slide.items&&e.currSlide==e.slide.items.length-1?((0,a.wg)(),(0,a.j4)("div",n,[(0,a.Wm)("div",c,[(0,a.Wm)(W,{class:"slide-step__header__btn slide-step__header__btn__back",color:"main-alternate",unelevated:"",onClick:e.trainingDetailsHandler,disable:e.loading},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{name:"close",color:"main-background",size:"20px"})])),_:1},8,["onClick","disable"])]),(0,a.Wm)("div",r,[(0,a.Wm)(W,{class:"slide-step__header__btn",color:"main-alternate",unelevated:"","no-caps":"",onClick:e.onFinish,loading:e.loading},{default:(0,a.w5)((()=>[d])),_:1},8,["onClick","loading"])])])):(0,a.kq)("",!0),(0,a.Wm)(j,{swipeable:"",animated:"",modelValue:e.currSlide,"onUpdate:modelValue":t[3]||(t[3]=t=>e.currSlide=t),autoplay:!1,ref:"carousel",class:"slide-step__carousel"},{control:(0,a.w5)((()=>[(0,a.Wm)(x,{position:"bottom-left",offset:[18,18],class:"q-gutter-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{flat:"",round:"",size:"lg",color:"transparent","text-color":"utilities-alternate",icon:"arrow_back_ios",onClick:t[1]||(t[1]=t=>e.$refs.carousel.previous())})])),_:1}),(0,a.Wm)(x,{position:"bottom-right",offset:[18,18],class:"q-gutter-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{flat:"",round:"",size:"lg",color:"transparent","text-color":"utilities-alternate",icon:"arrow_forward_ios",onClick:t[2]||(t[2]=t=>e.$refs.carousel.next())})])),_:1})])),default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.slide.items,((t,i)=>((0,a.wg)(),(0,a.j4)(q,{key:t.id,name:i,class:"slide-step__carousel-item"},{default:(0,a.w5)((()=>[(0,a.Wm)("div",u,[(0,a.Wm)("div",m,[(0,a.Wm)(y,{src:e._getMediaUrl(t.image),class:"slide-step__image",fit:"scale-down",height:"100%"},null,8,["src"])]),(0,a.Wm)("div",p,[(0,a.Wm)(C,{class:"slide-step__text-area pr-4 pl-4"},{default:(0,a.w5)((()=>[(0,a.Wm)("h3",g,(0,s.zw)(t.title),1),(0,a.Wm)("p",h,(0,s.zw)(t.description),1)])),_:2},1024)])])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"]),e.slide?((0,a.wg)(),(0,a.j4)("div",_,[e.slide.items?((0,a.wg)(),(0,a.j4)("div",b,[(0,a.Wm)("p",null,(0,s.zw)(e.currSlide+1)+" / "+(0,s.zw)(e.slide.items.length),1)])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])),(0,a.Wm)("div",null,[(0,a.Wm)(Z,{active:e.hasFeedback,icon:e.feedbackIcon,title:"Etapa concluída",subtitle:"Parabéns, você adquiriu mais conhecimento para lidar com seu pet.",buttonText:"Ir para treino",action:e.trainingDetailsHandler},null,8,["active","icon","action"])])])}var f=i(515),v=i.n(f),S=i(7874),W=i(8745),y=i(6211),C=i(9836),q=i(2989),x=i(8785),j=i(2034);const A=i(2530),Z={components:{LoadingCircle:C.Z,Button:y.Z,Tag:q.Z,FeedbackModal:x.Z},data(){return{currSlide:0,loading:!1,hasFeedback:!1}},computed:v()(v()({},(0,S.rn)("training",["behavior","module","slide","loadingTrainings"])),{},{feedbackIcon(){return A}}),methods:v()(v()(v()(v()(v()(v()({},j.Z),W.Z),(0,S.nv)("training",["ActionGetModule","ActionGetSlide","ActionGetTraining"])),(0,S.nv)("slide",["ActionUpdateSlideStepCompleted"])),(0,S.OI)("training",["SET_HAS_HEADER"])),{},{timeout(e){return new Promise((t=>setTimeout(t,e)))},async onFinish(){this.loading=!0,await this.stepDone(),this.loading=!1},trainingDetailsHandler(){this.goBack()},goBack(){this.$router.go(-1)},isEmptyObject(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype},isStepDone(){if(!this.isEmptyObject(this.video))return this.slide.completed},showFeedbackModal(){this.hasFeedback=!0},async stepDone(){if(this.isStepDone())this.showFeedbackModal();else{const e=await this.ActionUpdateSlideStepCompleted({id:this.slide.id,body:{completed:!0}});e&&this.showFeedbackModal()}}}),beforeRouteLeave(e,t,i){this.SET_HAS_HEADER(!0),i()},async created(){await this.ActionGetSlide(this.$route.params.idSessao)},async mounted(){this.SET_HAS_HEADER(!1)}};var E=i(8240),F=i(4554),D=i(5845),H=i(4593),z=i(4027),T=i(5180),M=i(7607),O=i(7518),Q=i.n(O);Z.render=w;const I=Z;Q()(Z,"components",{QBtn:E.Z,QIcon:F.Z,QCarousel:D.Z,QCarouselSlide:H.Z,QImg:z.Z,QScrollArea:T.Z,QCarouselControl:M.Z})}}]);