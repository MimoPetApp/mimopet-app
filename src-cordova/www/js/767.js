(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[767],{4433:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>U});var o=s(3673),n=s(2323);const r=(0,o.HX)("data-v-0545af7e");(0,o.dD)("data-v-0545af7e");const i={key:0,class:"token-wrapper"},a={class:"token-wrapper__header"},l={class:"token-wrapper__body"},c={class:"content"},u={class:"content__title"},p=(0,o.Wm)("p",{class:"content__description"},"Verifique sua identidade inserindo o código enviado",-1),d={class:"input-token row q-gutter-sm"},m={key:0,class:"error-wrapper text-negative"},b={class:"token-wrapper__footer"},g={key:1};(0,o.Cn)();const h=r(((e,t,s,r,h,v)=>{const T=(0,o.up)("q-img"),w=(0,o.up)("TextField"),k=(0,o.up)("Button"),x=(0,o.up)("Response");return(0,o.wg)(),(0,o.j4)("div",null,[e.response.status?((0,o.wg)(),(0,o.j4)("div",g,[(0,o.Wm)(x,{title:e.response.title,subtitle:e.response.subtitle,buttonText:e.response.buttonText,subButtonText:e.response.subButtonText,icon:e.response.icon,action:e.response.action,subAction:e.response.subAction},null,8,["title","subtitle","buttonText","subButtonText","icon","action","subAction"])])):((0,o.wg)(),(0,o.j4)("div",i,[(0,o.Wm)("div",a,[(0,o.Wm)(T,{src:e.getCheckSuccess,class:"slide-step__image",fit:"scale-down",height:"100%"},null,8,["src"])]),(0,o.Wm)("div",l,[(0,o.Wm)("div",c,[(0,o.Wm)("h2",u,"Enviamos uma mensagem para "+(0,n.zw)(e.recipient),1),p]),(0,o.Wm)("div",d,[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(e.inputTextFields,((t,s)=>((0,o.wg)(),(0,o.j4)("div",{class:"col-2",key:s},[(0,o.Wm)(w,{ref:"inputText",type:"text",modelValue:e.inputTextFields[s].value,"onUpdate:modelValue":t=>e.inputTextFields[s].value=t,label:e.inputTextPlaceholder,hint:"","no-error-icon":"","lazy-rules":"",class:"input-custom",maxlength:"1",onKeypress:e.onlyNumber,error:e.inputTextFields[s].error},null,8,["modelValue","onUpdate:modelValue","label","onKeypress","error"])])))),128))]),e.errorMessage?((0,o.wg)(),(0,o.j4)("div",m,[(0,o.Wm)("p",null,(0,n.zw)(e.errorMessage),1)])):(0,o.kq)("",!0)]),(0,o.Wm)("div",b,[(0,o.Wm)(k,{color:"primary-filled",class:"no-shadow text-weight-bold",size:"md","no-caps":"",label:"Confirmar",onClick:e.onClick},null,8,["onClick"])])]))])}));var v=s(515),T=s.n(v),w=(s(7280),s(5363),s(107),s(6211)),k=s(5284);const x=(0,o.HX)("data-v-b3b3bb8a");(0,o.dD)("data-v-b3b3bb8a");const y={class:"response-wrapper"},f={class:"response-wrapper__header"},C={class:"response-wrapper__body"},_={class:"content"},W={class:"content__title"},F={class:"content__description"},A={class:"response-wrapper__footer"};(0,o.Cn)();const S=x(((e,t,s,r,i,a)=>{const l=(0,o.up)("q-img"),c=(0,o.up)("Button");return(0,o.wg)(),(0,o.j4)("div",y,[(0,o.Wm)("div",f,[(0,o.Wm)(l,{src:s.icon,class:"image",fit:"scale-down",height:"100%"},null,8,["src"])]),(0,o.Wm)("div",C,[(0,o.Wm)("div",_,[(0,o.Wm)("h2",W,(0,n.zw)(s.title),1),(0,o.Wm)("p",F,(0,n.zw)(s.subtitle),1)])]),(0,o.Wm)("div",A,[s.subButtonText?((0,o.wg)(),(0,o.j4)(c,{key:0,class:"main-button no-shadow text-weight-bold mb-2",color:"primary-flat",label:s.subButtonText,onClick:s.subAction,"no-caps":""},null,8,["label","onClick"])):(0,o.kq)("",!0),(0,o.Wm)(c,{color:"primary-filled",class:"no-shadow text-weight-bold","no-caps":"",label:s.buttonText,onClick:s.action},null,8,["label","onClick"])])])})),B={name:"Response",components:{Button:w.Z},props:{active:{type:Boolean,default:!0},title:{type:String},subtitle:{type:String},buttonText:{type:String},subButtonText:{type:String},action:{type:Function},subAction:{type:Function},icon:{type:String}}};var j=s(4027),z=s(6115),P=s(7518),q=s.n(P);B.render=S,B.__scopeId="data-v-b3b3bb8a";const R=B;q()(B,"components",{QImg:j.Z,QField:z.Z});var Z=s(7874);const H=s(6263),I=s(7407),M={name:"Token",components:{Button:w.Z,TextField:k.Z,Response:R},props:{recipient:{type:String,default:""}},data(){return{inputTextFields:[{value:"",label:"-",error:!1},{value:"",label:"-",error:!1},{value:"",label:"-",error:!1},{value:"",label:"-",error:!1}],inputTextPlaceholder:"-",errorMessage:"",response:{status:!1,title:"",subtitle:"",buttonText:"",action:()=>{},subAction:()=>{},icon:null}}},computed:T()(T()({},(0,Z.Se)("auth",["getUser","getSendToken"])),{},{getCheckSuccess(){return H}}),methods:T()(T()({},(0,Z.nv)("auth",["ActionConfirmToken"])),{},{formatInput(e,t){this.inputTextFields[t].value=e.target._value.replace(/[^0-9]/g,"")},getCode(){return this.inputTextFields.reduce(((e,t)=>e+t.value),"")},onlyNumber(e){const t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&e.preventDefault()},isFieldEmpty(){let e=!1;return this.inputTextFields.forEach((t=>{t.value||(t.error=!0,e=!0)})),e},async onClick(){if(this.isFieldEmpty())this.errorMessage="Preencha todos os campos!";else if(this.errorMessage="",this.isFromCreateUser()){const e=await this.confirmToken();e&&this.setCreateAccountSuccess()}},isFromCreateUser(){return this.$route.params.from.includes("criar")},showChangePassword(){},async confirmToken(){const e={email:this.getSendToken.email,code:this.getCode()},t=await this.ActionConfirmToken(e);return t},setCreateAccountSuccess(){this.response={status:!0,title:"Conta criada com sucesso",subtitle:"Adicione o perfil de seus pets para começar a utilzar os treinos",subButtonText:"Criar perfil do pet",buttonText:"Acessar minha página",subAction:()=>{this.goToPetRegister()},action:()=>{this.goToHome()},icon:I}},goToPetRegister(){this.$router.push({name:"PetRegister"})},goToHome(){this.$router.push({name:"home"})}})};M.render=h,M.__scopeId="data-v-0545af7e";const U=M;q()(M,"components",{QImg:j.Z})},6263:(e,t,s)=>{e.exports=s.p+"img/check_success.svg"},7407:(e,t,s)=>{e.exports=s.p+"img/star.svg"}}]);