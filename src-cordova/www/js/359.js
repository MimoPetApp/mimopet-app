(self["webpackChunkorg_cordova_quasar_app"]=self["webpackChunkorg_cordova_quasar_app"]||[]).push([[359],{3166:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});a(5598);var l=a(790),i=a(1872),r=a(7e3);const s={key:0,class:"auth-form-content"},o={class:"termos-container"},n={class:"mimo-text__h3"},m={class:"row q-mt-xl"},u={class:"col-12"},d={class:"flex flex-center"},c={key:4,class:"auth-form-content"},p={class:"row"},b={class:"col-12"},f={class:"flex flex-center q-py-xl"},w={class:"row"},h={class:"col-12"},g={class:"flex flex-center q-py-xl"},v={class:"row items-center justify-end"},x={class:"row"},W={class:"col-12"},$={class:"flex flex-center"},y={key:1,class:"flex flex-center q-mt-xl"};function S(e,t,a,S,V,k){const _=(0,l.up)("Title"),Z=(0,l.up)("MainButton"),I=(0,l.up)("q-input"),q=(0,l.up)("SingleLineForm"),j=(0,l.up)("q-btn-toggle"),E=(0,l.up)("q-btn"),C=(0,l.up)("q-date"),A=(0,l.up)("q-popup-proxy"),F=(0,l.up)("q-icon"),M=(0,l.up)("Container"),T=(0,l.up)("LoadingCircle"),z=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)("div",null,[e.loading?((0,l.wg)(),(0,l.j4)("div",y,[(0,l.Wm)(T)])):((0,l.wg)(),(0,l.j4)(M,{key:0},{default:(0,l.w5)((()=>[1==e.step?((0,l.wg)(),(0,l.j4)("div",s,[(0,l.Wm)("div",null,[(0,l.Wm)(_,{text:e.$t("create.terms.title"),subtitle:e.$t("create.terms.subtitle")},null,8,["text","subtitle"])]),(0,l.Wm)("div",o,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.$t("create.terms.data"),((e,t)=>((0,l.wg)(),(0,l.j4)("div",{key:`term_${t}`},[(0,l.Wm)("h3",n,(0,i.zw)(e.head),1),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.body,((e,t)=>((0,l.wg)(),(0,l.j4)("p",{key:`term_item_${t}`,class:"text-weight-bold mimo-text"},(0,i.zw)(e),1)))),128))])))),128)),(0,l.Wm)("div",m,[(0,l.Wm)("div",u,[(0,l.Wm)("div",d,[(0,l.Wm)(Z,{type:"submit",label:e.$t("create.terms.mainbutton"),click:e.nextStep,loading:!1},null,8,["label","click"])])])])])])):2==e.step?((0,l.wg)(),(0,l.j4)(q,{key:1,title:e.$t("create.email.title"),subtitle:e.$t("create.email.subtitle"),"btn-label":e.$t("create.email.mainbutton"),loading:!1,"on-submit":e.onSubmitEmail,valid:e.emailIsValid},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{ref:"email",modelValue:e.form.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.email=t),borderless:"",type:"email",label:e.$t("create.email.label"),hint:"","input-class":"single-line-input-pattern",class:"single-input","no-error-icon":"","lazy-rules":"",error:e.showError.email&&!e.emailIsValid,"error-message":e.$t("create.email.error"),onFocus:t[2]||(t[2]=t=>e.showError.email=!0)},null,8,["modelValue","label","error","error-message"])])),_:1},8,["title","subtitle","btn-label","on-submit","valid"])):3==e.step?((0,l.wg)(),(0,l.j4)(q,{key:2,title:e.$t("create.password.title"),subtitle:e.$t("create.password.subtitle"),"btn-label":e.$t("create.password.mainbutton"),loading:!1,"on-submit":e.onSubmitPassword,valid:e.passwordIsValid},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{ref:"password",modelValue:e.form.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.password=t),borderless:"",type:"text",label:e.$t("create.password.label"),hint:"","input-class":"single-line-input-pattern",class:"single-input","no-error-icon":"",error:e.showError.password&&!e.passwordIsValid,rules:e.showError.password?[t=>!!t||e.$t("create.password.error.required"),t=>/^(?=.*[a-z])/.test(t)||e.$t("create.password.error.lowercase"),t=>/^(?=.*[A-Z])/.test(t)||e.$t("create.password.error.uppercase"),t=>/^(?=.*[0-9])/.test(t)||e.$t("create.password.error.number"),t=>/^(?=.*[!@#\$%\^&\*])/.test(t)||e.$t("create.password.error.specialCharacter"),t=>/^(?=.{8,})/.test(t)||e.$t("create.password.error.length")]:[],onFocus:t[4]||(t[4]=t=>e.showError.password=!0)},null,8,["modelValue","label","error","rules"])])),_:1},8,["title","subtitle","btn-label","on-submit","valid"])):4==e.step?((0,l.wg)(),(0,l.j4)(q,{key:3,title:e.$t("create.name.title"),subtitle:e.$t("create.name.subtitle"),"btn-label":e.$t("create.name.mainbutton"),loading:!1,"on-submit":e.onSubmitName,valid:e.nameIsValid},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{ref:"user_name",modelValue:e.form.nickname,"onUpdate:modelValue":t[5]||(t[5]=t=>e.form.nickname=t),borderless:"",type:"text",label:e.$t("create.name.label"),hint:"","input-class":"single-line-input-pattern",class:"single-input","no-error-icon":""},null,8,["modelValue","label"])])),_:1},8,["title","subtitle","btn-label","on-submit","valid"])):5==e.step?((0,l.wg)(),(0,l.j4)("div",c,[(0,l.Wm)("div",null,[(0,l.Wm)(_,{text:e.$t("create.identification.title")},null,8,["text"]),(0,l.Wm)("div",p,[(0,l.Wm)("div",b,[(0,l.Wm)("div",f,[(0,l.Wm)("form",{onSubmit:t[7]||(t[7]=(0,r.iM)(((...t)=>e.onSubmitExtra&&e.onSubmitExtra(...t)),["prevent","stop"]))},[(0,l.Wm)(j,{modelValue:e.form.identificationTutor,"onUpdate:modelValue":t[6]||(t[6]=t=>e.form.identificationTutor=t),"text-color":"grey-4","toggle-text-color":"secondary",class:"genre-toggle",outline:"",unelevated:"","no-caps":"",options:[{label:e.$t("create.identification.label.mother"),value:"mother"},{label:e.$t("create.identification.label.father"),value:"father"}]},null,8,["modelValue","options"])],32)])])])]),(0,l.Wm)("div",null,[(0,l.Wm)(_,{text:e.$t("create.birthDate.title")},null,8,["text"]),(0,l.Wm)("div",w,[(0,l.Wm)("div",h,[(0,l.Wm)("div",g,[(0,l.Wm)("form",{onSubmit:t[10]||(t[10]=(0,r.iM)(((...t)=>e.onSubmitExtra&&e.onSubmitExtra(...t)),["prevent","stop"]))},[(0,l.Wm)(I,{modelValue:e.form.birthdate,"onUpdate:modelValue":t[9]||(t[9]=t=>e.form.birthdate=t),borderless:"","input-class":"single-line-input-pattern",class:"single-input",mask:"##-##-####","no-error-icon":"",rules:[t=>10==t.length||e.$t("create.birthDate.error")]},{append:(0,l.w5)((()=>[(0,l.Wm)(F,{name:"event",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(A,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{modelValue:e.form.birthdate,"onUpdate:modelValue":t[8]||(t[8]=t=>e.form.birthdate=t),mask:"DD-MM-YYYY"},{default:(0,l.w5)((()=>[(0,l.Wm)("div",v,[(0,l.wy)((0,l.Wm)(E,{label:"Close",color:"primary",flat:""},null,512),[[z]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"])],32)])])])]),(0,l.Wm)("div",x,[(0,l.Wm)("div",W,[(0,l.Wm)("div",$,[(0,l.Wm)(Z,{type:"submit",label:e.$t("create.birthDate.mainbutton"),click:e.onSubmitExtra,loading:!1,disable:!e.extraIsValid},null,8,["label","click","disable"])])])])])):(0,l.kq)("",!0)])),_:1}))])}var V=a(3982),k=a.n(V),_=a(5402),Z=a(4238),I=a(9159),q=a(5618);const j={class:"auth-form-content"},E={class:"row"},C={class:"col-12"},A={class:"row"},F={class:"col-12"},M={class:"flex flex-center"};function T(e,t,a,i,s,o){const n=(0,l.up)("Title"),m=(0,l.up)("MainButton");return(0,l.wg)(),(0,l.j4)("div",j,[(0,l.Wm)(n,{text:a.title,subtitle:a.subtitle},null,8,["text","subtitle"]),(0,l.Wm)("div",E,[(0,l.Wm)("div",C,[(0,l.Wm)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>a.onSubmit&&a.onSubmit(...e)),["prevent","stop"]))},[(0,l.WI)(e.$slots,"default")],32)])]),(0,l.Wm)("div",A,[(0,l.Wm)("div",F,[(0,l.Wm)("div",M,[(0,l.Wm)(m,{type:"submit",label:a.btnLabel,click:a.onSubmit,loading:a.loading,disable:!a.valid},null,8,["label","click","loading","disable"])])])])])}const z={name:"SingleLineForm",components:{Title:Z.Z,MainButton:I.Z},props:{loading:{type:Boolean,default:!1},valid:{type:Boolean,default:!1},onSubmit:{type:Function,default:()=>{}},title:{type:String,default:""},subtitle:{type:String,default:""},btnLabel:{type:String,default:"Submeter"}},data(){return{}}};z.render=T;const B=z;var U=a(7733);const D={name:"CreateAccount",components:{Title:Z.Z,Container:q.Z,MainButton:I.Z,LoadingCircle:U.Z,SingleLineForm:B},data(){return{showError:{email:!1,password:!1},form:{email:"",password:"",nickname:"",identificationTutor:"mother",birthdate:""},pattern:{email:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,name:/^(?=.{3,})/},step:1,maxStep:5,loading:!1}},computed:{emailIsValid(){return this.validateField(this.form.email,this.pattern.email)},passwordIsValid(){return this.validateField(this.form.password,this.pattern.password)},nameIsValid(){return this.validateField(this.form.nickname,this.pattern.name)},extraIsValid(){return""!==this.form.identificationTutor&&10===this.form.birthdate.length}},beforeMount(){},mounted(){},methods:k()(k()({},(0,_.nv)("auth",["ActionCreateAccount"])),{},{nextStep(){this.step<this.maxStep&&(this.step+=1)},previousStep(){this.step>1&&(this.step-=1)},validateField(e,t){return!(!e||!t)&&t.test(e)},onSubmitEmail(){this.emailIsValid&&this.nextStep()},onSubmitPassword(){this.$refs.password.validate()&&this.nextStep()},onSubmitName(){this.nameIsValid&&this.nextStep()},async onSubmitExtra(){this.extraIsValid&&(this.nextStep(),await this.submitNewUser())},async submitNewUser(){this.loading=!0,await this.ActionCreateAccount(this.form),this.loading=!1}})};var L=a(8554),Q=a(4509),P=a(3770),Y=a(136),N=a(2487),H=a(1611),K=a(5234),G=a(7910),J=a.n(G);D.render=S;const O=D;J()(D,"components",{QInput:L.Z,QBtnToggle:Q.Z,QIcon:P.Z,QPopupProxy:Y.Z,QDate:N.Z,QBtn:H.Z}),J()(D,"directives",{ClosePopup:K.Z})}}]);