(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[919],{4919:(e,s,o)=>{"use strict";o.r(s),o.d(s,{default:()=>$});o(71);var t=o(3673),r=o(8880),a=o(2323);const n=(0,t.HX)("data-v-ffa4f072");(0,t.dD)("data-v-ffa4f072");const i={key:0,class:"change-password-wrapper"},l={class:"change-password-wrapper__header"},u={class:"change-password-wrapper__body"},p=(0,t.Wm)("div",{class:"content"},[(0,t.Wm)("h2",{class:"content__title"},"Crie uma nova senha para recuperar sua conta"),(0,t.Wm)("p",{class:"content__description"},"Use a nova senha para realizar login")],-1),c={class:"input-token row q-gutter-sm"},d={class:"col-12 group-input",align:"center"},m={key:0,class:"error-wrapper text-negative"},w={class:"token-wrapper__footer"},g={key:1};(0,t.Cn)();const h=n(((e,s,o,n,h,f)=>{const b=(0,t.up)("q-img"),v=(0,t.up)("TextField"),k=(0,t.up)("Button"),T=(0,t.up)("Response");return(0,t.wg)(),(0,t.j4)("div",null,[e.response.status?((0,t.wg)(),(0,t.j4)("div",g,[(0,t.Wm)(T,{title:e.response.title,subtitle:e.response.subtitle,buttonText:e.response.buttonText,subButtonText:e.response.subButtonText,icon:e.response.icon,action:e.response.action,subAction:e.response.subAction},null,8,["title","subtitle","buttonText","subButtonText","icon","action","subAction"])])):((0,t.wg)(),(0,t.j4)("div",i,[(0,t.Wm)("div",l,[(0,t.Wm)(b,{src:e.getLockOpen,class:"change-password-wrapper__header__image",fit:"scale-down"},null,8,["src"])]),(0,t.Wm)("div",u,[p,(0,t.Wm)("div",c,[(0,t.Wm)("div",d,[(0,t.Wm)("form",{ref:"form",onSubmit:s[3]||(s[3]=(0,r.iM)(((...s)=>e.onSubmitPassword&&e.onSubmitPassword(...s)),["prevent","stop"]))},[(0,t.Wm)(v,{modelValue:e.form.password,"onUpdate:modelValue":s[1]||(s[1]=s=>e.form.password=s),class:"mb-1",label:"Senha","lazy-rules":"",isPassword:!0,rules:[s=>!!s||e.$t("login.password.error.required"),s=>/^(?=.{8,})/.test(s)||e.$t("login.password.error.min"),s=>/^(?=.*[a-z])/.test(s)||e.$t("login.password.error.lowercase"),s=>/^(?=.*[A-Z])/.test(s)||e.$t("login.password.error.uppercase"),s=>/^(?=.*[0-9])/.test(s)||e.$t("login.password.error.number"),s=>/^(?=.*[!@#\$%\^&\*])/.test(s)||e.$t("login.password.error.specialCharacter"),s=>/^(?=.{8,})/.test(s)||e.$t("login.password.error.length")]},null,8,["modelValue","rules"]),(0,t.Wm)(v,{modelValue:e.form.confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=s=>e.form.confirmPassword=s),label:"Repita a senha",isPassword:!0,"lazy-rules":"",rules:[s=>!!s||e.$t("login.password.error.required"),s=>s===e.form.password||"Senha nÃ£o confere"]},null,8,["modelValue","rules"])],544)])]),e.errorMessage?((0,t.wg)(),(0,t.j4)("div",m,[(0,t.Wm)("p",null,(0,a.zw)(e.errorMessage),1)])):(0,t.kq)("",!0)]),(0,t.Wm)("div",w,[(0,t.Wm)(k,{color:"primary-filled",class:"no-shadow text-weight-bold",size:"md","no-caps":"",label:"Salvar nova senha",onClick:e.onSubmitPassword},null,8,["onClick"])])]))])}));var f=o(515),b=o.n(f),v=(o(107),o(6548)),k=o(5358),T=o(8536),_=o(7874);const P=o(6263),W=o(9645),x={name:"ChangePassword",components:{Button:v.Z,TextField:k.Z,Response:T.Z},props:{recipient:{type:String,default:""}},data(){return{errorMessage:"",response:{status:!1,title:"",subtitle:"",buttonText:"",action:()=>{},subAction:()=>{},icon:null},form:{password:"",confirmPassword:""}}},computed:b()(b()({},(0,_.Se)("auth",["getRecoverConfirmToken"])),{},{getLockOpen(){return W},getCheckSuccess(){return P}}),methods:b()(b()({},(0,_.nv)("auth",["ActionUpdateUserPassword"])),{},{getCode(){return this.inputTextFields.reduce(((e,s)=>e+s.value),"")},onlyNumber(e){const s=e.keyCode?e.keyCode:e.which;(s<48||s>57)&&e.preventDefault()},async onSubmitPassword(){const e=await this.updateUserPassword();e?this.setRecoverSucces():this.errorMessage="error"},async updateUserPassword(){const e={password:this.form.password,token:this.getRecoverConfirmToken.token},s=await this.ActionUpdateUserPassword(e);return s},setRecoverSucces(){this.response={status:!0,title:"Senha alterada com sucesso",subtitle:"Tente entrar na sua conta utilizando a nova senha",buttonText:"Ir para login",action:()=>{this.goToHome()},icon:P}},goToPetRegister(){this.$router.push({name:"PetRegister"})},goToHome(){this.$router.push({name:"home"})}})};var C=o(4027),S=o(7518),y=o.n(S);x.render=h,x.__scopeId="data-v-ffa4f072";const $=x;y()(x,"components",{QImg:C.Z})},9645:(e,s,o)=>{e.exports=o.p+"img/lock_open.svg"}}]);