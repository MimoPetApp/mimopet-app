(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[550],{3283:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ne});var r=a(3673);const l={class:"pt-2"},s={class:"pr-5 pl-5"},i={class:"row items-center justify-end"},n={key:6},o={key:1,class:"flex flex-center q-mt-xl"};function d(e,t,a,d,c,u){const m=(0,r.up)("q-btn"),p=(0,r.up)("q-toolbar"),b=(0,r.up)("Button"),h=(0,r.up)("Ask"),w=(0,r.up)("TextField"),g=(0,r.up)("q-date"),f=(0,r.up)("q-popup-proxy"),y=(0,r.up)("q-icon"),k=(0,r.up)("q-input"),v=(0,r.up)("Button-Checkbox-Group"),C=(0,r.up)("Token"),x=(0,r.up)("AuthContainer"),W=(0,r.up)("LoadingCircle"),_=(0,r.Q2)("close-popup");return(0,r.wg)(),(0,r.j4)("div",null,[e.loading?((0,r.wg)(),(0,r.j4)("div",o,[(0,r.Wm)(W,{color:"status-waiting",size:"6em",thickness:5})])):((0,r.wg)(),(0,r.j4)(x,{key:0,light:""},{default:(0,r.w5)((()=>[(0,r.Wm)("div",null,[(0,r.Wm)(p,{class:"text-primary"},{default:(0,r.w5)((()=>[(0,r.Wm)("div",l,[(0,r.Wm)(m,{flat:"",round:"",color:"utilities-alternate",size:"md",icon:"arrow_back",onClick:e.previousStep},null,8,["onClick"])])])),_:1}),1==e.step?((0,r.wg)(),(0,r.j4)(h,{key:0,title:e.$t("create.terms.title"),"align-content":"center"},{content:(0,r.w5)((()=>[(0,r.Wm)("div",s,[(0,r.Wm)("p",{innerHTML:e.terms.terms,class:"text-weight-bold"},null,8,["innerHTML"])])])),action:(0,r.w5)((()=>[(0,r.Wm)(b,{type:"submit",label:e.$t("create.terms.mainbutton"),loading:!1,onClick:e.nextStep,noCaps:"",color:"primary-filled",class:"main-button no-shadow"},null,8,["label","onClick"])])),_:1},8,["title"])):2==e.step?((0,r.wg)(),(0,r.j4)(h,{key:1,title:e.$t("create.email.title"),subtitle:e.$t("create.email.subtitle"),"align-content":"center"},{content:(0,r.w5)((()=>[(0,r.Wm)(w,{modelValue:e.form.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.email=t),ref:"email",borderless:"",light:"",type:"email",align:"center",label:e.$t("create.email.label"),rules:[t=>!!t||e.$t("login.email.error")],hint:"","no-error-icon":"","lazy-rules":"",error:e.showError.email&&!e.emailIsValid,"error-message":e.$t("create.email.error"),onFocus:t[2]||(t[2]=t=>e.showError.email=!0)},null,8,["modelValue","label","rules","error","error-message"])])),action:(0,r.w5)((()=>[(0,r.Wm)(b,{onClick:e.onSubmitEmail,label:e.$t("create.email.mainbutton"),noCaps:"",type:"submit",color:"primary-filled",class:"main-button no-shadow",loading:!1,disabled:!e.emailIsValid},null,8,["onClick","label","disabled"])])),_:1},8,["title","subtitle"])):3==e.step?((0,r.wg)(),(0,r.j4)(h,{key:2,title:e.$t("create.password.title"),subtitle:e.$t("create.password.subtitle")},{content:(0,r.w5)((()=>[(0,r.Wm)(w,{modelValue:e.form.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.password=t),ref:"password",borderless:"",light:"",type:"text",align:"center",label:e.$t("create.password.label"),rules:e.showError.password?[t=>!!t||e.$t("create.password.error.required"),t=>/^(?=.*[a-z])/.test(t)||e.$t("create.password.error.lowercase"),t=>/^(?=.*[A-Z])/.test(t)||e.$t("create.password.error.uppercase"),t=>/^(?=.*[0-9])/.test(t)||e.$t("create.password.error.number"),t=>/^(?=.*[!@#\$%\^&\*])/.test(t)||e.$t("create.password.error.specialCharacter"),t=>/^(?=.{8,})/.test(t)||e.$t("create.password.error.length")]:[],hint:"","no-error-icon":"",error:e.showError.password&&!e.passwordIsValid,onFocus:t[4]||(t[4]=t=>e.showError.password=!0)},null,8,["modelValue","label","rules","error"])])),action:(0,r.w5)((()=>[(0,r.Wm)(b,{onClick:e.onSubmitPassword,label:e.$t("create.password.mainbutton"),noCaps:"",type:"submit",color:"primary-filled",class:"main-button no-shadow",loading:!1,disabled:!e.passwordIsValid},null,8,["onClick","label","disabled"])])),_:1},8,["title","subtitle"])):4==e.step?((0,r.wg)(),(0,r.j4)(h,{key:3,title:e.$t("create.name.title"),subtitle:e.$t("create.name.subtitle")},{content:(0,r.w5)((()=>[(0,r.Wm)(w,{modelValue:e.form.username,"onUpdate:modelValue":t[5]||(t[5]=t=>e.form.username=t),ref:"user_name",borderless:"",light:"",type:"text",align:"center",label:e.$t("create.name.label"),hint:"","no-error-icon":""},null,8,["modelValue","label"])])),action:(0,r.w5)((()=>[(0,r.Wm)(b,{onClick:e.onSubmitName,label:e.$t("create.name.mainbutton"),noCaps:"",type:"submit",color:"primary-filled",class:"main-button no-shadow",loading:!1,disabled:!e.nameIsValid},null,8,["onClick","label","disabled"])])),_:1},8,["title","subtitle"])):5==e.step?((0,r.wg)(),(0,r.j4)(h,{key:4,title:e.$t("create.birthDate.title"),subtitle:e.$t("create.birthDate.subtitle")},{content:(0,r.w5)((()=>[(0,r.Wm)(k,{modelValue:e.form.birthday,"onUpdate:modelValue":t[7]||(t[7]=t=>e.form.birthday=t),borderless:"","input-class":"single-line-input-pattern",class:"single-input",mask:"##-##-####","no-error-icon":"",rules:[t=>10==t.length||e.$t("create.birthDate.error"),()=>e.userAge>=18||"Tem que ser maior de idade"]},{append:(0,r.w5)((()=>[(0,r.Wm)(y,{name:"event",class:"cursor-pointer"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{modelValue:e.form.birthday,"onUpdate:modelValue":t[6]||(t[6]=t=>e.form.birthday=t),mask:"DD-MM-YYYY"},{default:(0,r.w5)((()=>[(0,r.Wm)("div",i,[(0,r.wy)((0,r.Wm)(m,{label:"Close",color:"primary",flat:""},null,512),[[_]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"])])),action:(0,r.w5)((()=>[(0,r.Wm)(b,{onClick:e.onSubmitBirthDate,label:e.$t("create.birthDate.mainbutton"),noCaps:"",type:"submit",color:"primary-filled",class:"main-button no-shadow",disabled:!e.birthdayIsValid},null,8,["onClick","label","disabled"])])),_:1},8,["title","subtitle"])):6==e.step?((0,r.wg)(),(0,r.j4)(h,{key:5,title:e.$t("create.identification.title"),subtitle:e.$t("create.identification.subtitle")},{content:(0,r.w5)((()=>[(0,r.Wm)(v,{options:e.genderOptions,selectionType:"single",onSelected:t[8]||(t[8]=t=>e.genderOptionsHandler("gender",t))},null,8,["options"])])),action:(0,r.w5)((()=>[(0,r.Wm)(b,{onClick:e.onSubmitGender,label:e.$t("create.identification.mainbutton"),noCaps:"",type:"submit",color:"primary-filled",class:"main-button no-shadow"},null,8,["onClick","label"])])),_:1},8,["title","subtitle"])):7==e.step?((0,r.wg)(),(0,r.j4)("div",n,[(0,r.Wm)(C,{recipient:e.form.email,onClick:e.sendToken},null,8,["recipient","onClick"])])):(0,r.kq)("",!0)])])),_:1}))])}var c=a(515),u=a.n(c),m=(a(71),a(7280),a(7874)),p=a(2445),b=a(2323);const h=(0,r.HX)("data-v-3b166145");(0,r.dD)("data-v-3b166145");const w={class:"ask-wrapper"},g={class:"ask-wrapper__header"},f={class:"row"},y={class:"col-12 col-md-12 col-xs-12"},k={class:"text-main-alternate"},v={key:0,class:"text-main-alternate-light"},C={class:"row"},x={class:"col-12 col-md-12 col-xs-12"},W={class:"ask-wrapper__footer"},_={class:"row"},V={class:"col-12 col-md-12 col-xs-12 flex items-center justify-center"};(0,r.Cn)();const $=h(((e,t,a,l,s,i)=>((0,r.wg)(),(0,r.j4)("div",w,[(0,r.Wm)("div",g,[(0,r.Wm)("div",f,[(0,r.Wm)("div",y,[(0,r.Wm)("h2",k,(0,b.zw)(a.title),1),a.subtitle?((0,r.wg)(),(0,r.j4)("p",v,(0,b.zw)(a.subtitle),1)):(0,r.kq)("",!0)])])]),(0,r.Wm)("div",{class:["ask-wrapper__content",i.selectAlignContent]},[(0,r.Wm)("div",C,[(0,r.Wm)("div",x,[(0,r.WI)(e.$slots,"content",{},void 0,!0)])])],2),(0,r.Wm)("div",W,[(0,r.Wm)("div",_,[(0,r.Wm)("div",V,[(0,r.WI)(e.$slots,"action",{},void 0,!0)])])])])))),S={name:"Ask",props:{color:{type:String,default:"main-primary",validate:e=>-1!==["main-primary"].indexOf(e)},type:{type:String,default:"squared",validate:e=>-1!==["rounded","squared"].indexOf(e)},selected:{type:Boolean,default:!1,validate:e=>-1!==[!0,!1].indexOf(e)},title:{type:String,default:"Insert your title"},subtitle:{type:String},alignContent:{type:String,default:"center",validate:e=>-1!==["start","center","end"].indexOf(e)}},computed:{selectAlignContent(){switch(this.alignContent){case"start":return"ask-wrapper__content--align-start";case"end":return"ask-wrapper__content--align-end";default:return"ask-wrapper__content--align-center"}}}};S.render=$,S.__scopeId="data-v-3b166145";const A=S;var I=a(9836),T=a(6211),Z=a(5284),F=a(4252);const j=(0,r.HX)("data-v-e4eaceae");(0,r.dD)("data-v-e4eaceae");const q={class:"token-wrapper"},E={class:"token-wrapper__header"},z={class:"token-wrapper__body"},D={class:"content"},M={class:"content__title"},B=(0,r.Wm)("p",{class:"content__description"},"Verifique sua identidade inserindo o código enviado",-1),O={class:"input-token row q-gutter-sm"},U={key:0,class:"error-wrapper text-negative"},N={class:"token-wrapper__footer"};(0,r.Cn)();const P=j(((e,t,a,l,s,i)=>{const n=(0,r.up)("q-img"),o=(0,r.up)("TextField"),d=(0,r.up)("Button");return(0,r.wg)(),(0,r.j4)("div",q,[(0,r.Wm)("div",E,[(0,r.Wm)(n,{src:i.getCheckSuccess,class:"slide-step__image",fit:"scale-down",height:"100%"},null,8,["src"])]),(0,r.Wm)("div",z,[(0,r.Wm)("div",D,[(0,r.Wm)("h2",M,"Enviamos uma mensagem para "+(0,b.zw)(a.recipient),1),B]),(0,r.Wm)("div",O,[((0,r.wg)(!0),(0,r.j4)(r.HY,null,(0,r.Ko)(s.inputTextFields,((e,t)=>((0,r.wg)(),(0,r.j4)("div",{class:"col-2",key:t},[(0,r.Wm)(o,{ref:"inputText",type:"text",modelValue:s.inputTextFields[t].value,"onUpdate:modelValue":e=>s.inputTextFields[t].value=e,label:s.inputTextPlaceholder,hint:"","no-error-icon":"","lazy-rules":"",class:"input-custom",maxlength:"1",onKeypress:i.onlyNumber,error:s.inputTextFields[t].error},null,8,["modelValue","onUpdate:modelValue","label","onKeypress","error"])])))),128))]),s.errorMessage?((0,r.wg)(),(0,r.j4)("div",U,[(0,r.Wm)("p",null,(0,b.zw)(s.errorMessage),1)])):(0,r.kq)("",!0)]),(0,r.Wm)("div",N,[(0,r.Wm)(d,{color:"primary-filled",class:"no-shadow text-weight-bold",size:"md","no-caps":"",label:"Confirmar",onClick:i.onClick},null,8,["onClick"])])])}));a(5363);const H=a(6263),Q={name:"Token",components:{Button:T.Z,TextField:Z.Z},props:{recipient:{type:String,default:""}},data(){return{inputTextFields:[{value:"",label:"-",error:!1},{value:"",label:"-",error:!1},{value:"",label:"-",error:!1},{value:"",label:"-",error:!1}],inputTextPlaceholder:"-",errorMessage:""}},computed:{getCheckSuccess(){return H}},methods:{formatInput(e,t){this.inputTextFields[t].value=e.target._value.replace(/[^0-9]/g,"")},onlyNumber(e){const t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&e.preventDefault()},isFieldEmpty(){let e=!1;return this.inputTextFields.forEach((t=>{t.value||(t.error=!0,e=!0)})),e},onClick(){this.isFieldEmpty()?this.errorMessage="Preencha todos os campos!":this.errorMessage=""}}};var G=a(4027),L=a(6115),Y=a(7518),K=a.n(Y);Q.render=P,Q.__scopeId="data-v-e4eaceae";const X=Q;K()(Q,"components",{QImg:G.Z,QField:L.Z});var R=a(2034);const J={name:"CreateAccount",components:{AuthContainer:p.Z,LoadingCircle:I.Z,Ask:A,Button:T.Z,TextField:Z.Z,ButtonCheckboxGroup:F.Z,Token:X},data(){return{showError:{email:!1,password:!1},form:{username:"",email:"",password:"",gender:"",birthday:""},pattern:{email:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,name:/^(?=.{3,})/},genderOptions:[{label:"Mãe de pet",value:"FEMALE",isCorrect:!1},{label:"Pai de pet",value:"MALE",isCorrect:!1},{label:"Não binário",value:"NONBINARY",isCorrect:!1}],step:1,maxStep:7,loading:!1}},computed:u()(u()({},(0,m.rn)("auth",["terms"])),{},{emailIsValid(){return this.validateField(this.form.email,this.pattern.email)},passwordIsValid(){return this.validateField(this.form.password,this.pattern.password)},nameIsValid(){return this.validateField(this.form.username,this.pattern.name)},genderIsValid(){return""!==this.form.gender},birthdayIsValid(){return 10===this.form.birthday.length&&this.userAge>=18},userAge(){if(10===this.form.birthday.length){const[e,t,a]=this.form.birthday.split("-");return this._calculateAge(new Date(a,t,e))}return 0}}),beforeMount(){},async mounted(){await this.ActionGetTermsOfUse()},methods:u()(u()(u()({},R.Z),(0,m.nv)("auth",["ActionGetTermsOfUse","ActionCreateAccount"])),{},{nextStep(){this.step<this.maxStep&&(this.step+=1)},previousStep(){this.step>1?this.step-=1:this.hubHandler()},hubHandler(){this.$router.push({name:"hub"})},genderOptionsHandler(e,t){"gender"===e&&(this.form.gender=t[0].value)},validateField(e,t){return!(!e||!t)&&t.test(e)},onSubmitEmail(){this.emailIsValid&&this.nextStep()},onSubmitPassword(){this.passwordIsValid&&this.nextStep()},onSubmitName(){this.nameIsValid&&this.nextStep()},onSubmitBirthDate(){this.birthdayIsValid&&this.nextStep()},onSubmitGender(){this.genderIsValid&&this.nextStep()},async submitNewUser(){this.loading=!0,this.form.birthday=this._noMask(this.form.birthday),await this.ActionCreateAccount(this.form),this.loading=!1},async sendToken(){this.submitNewUser()}})};var ee=a(9570),te=a(8240),ae=a(8104),re=a(4554),le=a(9108),se=a(5836),ie=a(677);J.render=d;const ne=J;K()(J,"components",{QToolbar:ee.Z,QBtn:te.Z,QInput:ae.Z,QIcon:re.Z,QPopupProxy:le.Z,QDate:se.Z}),K()(J,"directives",{ClosePopup:ie.Z})},6263:(e,t,a)=>{e.exports=a.p+"img/check_success.svg"}}]);