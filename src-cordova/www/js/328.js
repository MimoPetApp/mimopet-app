(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[328],{6144:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ce});var n=a(3673),i=a(8880);const s={style:{background:"#ffffff"}},o={class:"q-gutter-xs pr-4 pl-4"},l={class:"row mt-3",style:{"margin-bottom":"18px"}},r={class:"col-12 col-md-12 col-xs-12 list-breeds-wrapper"},d={key:1,class:"flex flex-center q-mt-xl"};function c(e,t,a,c,p,m){const u=(0,n.up)("q-btn"),b=(0,n.up)("q-toolbar"),f=(0,n.up)("TextField"),h=(0,n.up)("Button"),g=(0,n.up)("Ask"),w=(0,n.up)("Button-Checkbox-Group"),k=(0,n.up)("SearchField"),y=(0,n.up)("Checkbox"),B=(0,n.up)("Feedback"),v=(0,n.up)("q-layout"),_=(0,n.up)("LoadingCircle");return(0,n.wg)(),(0,n.j4)("div",s,[e.loading?((0,n.wg)(),(0,n.j4)("div",d,[(0,n.Wm)(_)])):((0,n.wg)(),(0,n.j4)(v,{key:0,view:"lHh Lpr lFf"},{default:(0,n.w5)((()=>[5!==e.step?((0,n.wg)(),(0,n.j4)(b,{key:0,class:"text-primary text-main-primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{flat:"",round:"",dense:"",icon:"arrow_back",onClick:t[1]||(t[1]=t=>e.backStep()),"text-color":"utilities-alternate"})])),_:1})):(0,n.kq)("",!0),(0,n.wy)((0,n.Wm)(g,{title:"Como seu pet se chama?",subtitle:"Vamos construir o perfil do seu animal ðŸ¶","align-content":"center"},{content:(0,n.w5)((()=>[(0,n.Wm)(f,{modelValue:e.form.petName,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.petName=t),light:"",align:"center",class:"mb-1",type:"text",label:"Insira o nome do pet"},null,8,["modelValue"])])),action:(0,n.w5)((()=>[(0,n.Wm)(h,{label:"Continuar",noCaps:"",color:"primary-flat",class:"pl-7 pr-7",disabled:0===e.form.petName.length,onClick:t[3]||(t[3]=t=>e.nextStep())},null,8,["disabled"])])),_:1},512),[[i.F8,1===e.step]]),(0,n.wy)((0,n.Wm)(g,{title:"Qual a idade do seu pet?",subtitle:"Estamos acabando de construir o seu perfil de tutor treinador","align-content":"center"},{content:(0,n.w5)((()=>[(0,n.Wm)(w,{options:e.ageOptions,"single-selection":"",onSelected:t[4]||(t[4]=t=>e.selectedHandler("petAge",t))},null,8,["options"])])),action:(0,n.w5)((()=>[(0,n.Wm)(h,{label:"Continuar",noCaps:"",color:"primary-flat",class:"pl-7 pr-7",disabled:!e.petAgeFilled,onClick:t[5]||(t[5]=t=>e.nextStep())},null,8,["disabled"])])),_:1},512),[[i.F8,2===e.step]]),(0,n.wy)((0,n.Wm)(g,{title:"Qual a raÃ§a do pet?",subtitle:"Estamos acabando de construir o seu perfil de tutor treinador","align-content":"start"},{content:(0,n.w5)((()=>[(0,n.Wm)("div",o,[(0,n.Wm)(k,{modelValue:e.form.petBreed.searchName,"onUpdate:modelValue":[t[6]||(t[6]=t=>e.form.petBreed.searchName=t),t[7]||(t[7]=t=>e.searchBreed())],label:"Busque por nome",class:"mb-1",align:"right",outline:"",disable:e.form.petBreed.isUnknown},null,8,["modelValue","disable"]),(0,n.Wm)(y,{modelValue:e.form.petBreed.isUnknown,"onUpdate:modelValue":t[8]||(t[8]=t=>e.form.petBreed.isUnknown=t),label:"Sem raÃ§a",onClick:t[9]||(t[9]=t=>e.noBreedHandler())},null,8,["modelValue"])]),(0,n.Wm)("div",l,[(0,n.Wm)("div",r,[(0,n.Wm)(w,{options:e.breedsList,"single-selection":"",onSelected:t[10]||(t[10]=t=>e.selectedHandler("petBreed",t))},null,8,["options"])])])])),action:(0,n.w5)((()=>[(0,n.Wm)(h,{label:"Continuar",noCaps:"",color:"primary-flat",class:"pl-7 pr-7",disabled:!e.petBreedFilled,onClick:t[11]||(t[11]=t=>e.nextStep())},null,8,["disabled"])])),_:1},512),[[i.F8,3===e.step]]),(0,n.wy)((0,n.Wm)(g,{title:"Informe detalhes do pet",subtitle:"Queremos entender mais do seu animal","align-content":"center"},{content:(0,n.w5)((()=>[(0,n.Wm)(w,{options:e.detailOptions,onSelected:t[12]||(t[12]=t=>e.selectedHandler("petDetails",t))},null,8,["options"])])),action:(0,n.w5)((()=>[(0,n.Wm)(h,{label:"Continuar",noCaps:"",color:"primary-flat",class:"pl-7 pr-7",disabled:!e.petDetailsFilled,onClick:t[13]||(t[13]=t=>e.registerPet())},null,8,["disabled"])])),_:1},512),[[i.F8,4===e.step]]),(0,n.Wm)(B,{active:5===e.step,icon:"pet.png",title:"Pet Adicionado",subtitle:"VocÃª pode adicionar inÃºmeros pets a sua conta cadastrada",buttonText:"Acessar o app",action:e.goToHome},null,8,["active","icon","action"])])),_:1}))])}var p=a(515),m=a.n(p),u=a(7874),b=a(9221),f=a(3500),h=a(2318),g=a(2323);const w={class:"mimo-text main-button__text mimo-text--white"};function k(e,t,a,i,s,o){const l=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.j4)(l,{to:a.to,type:a.type,color:"main-primary",class:"main-button no-shadow",loading:a.loading,disable:a.disable,onClick:a.click},{default:(0,n.w5)((()=>[(0,n.Wm)("span",w,(0,g.zw)(a.label),1)])),_:1},8,["to","type","loading","disable","onClick"])}const y={name:"MainButton",props:{to:{type:String,default:""},label:{type:String,default:""},type:{type:String,default:"button"},click:{type:Function,default:()=>{}},loading:{type:Boolean,default:!1},disable:{type:Boolean,default:!1}},data(){return{}}};var B=a(8240),v=a(7518),_=a.n(v);y.render=k;const x=y;_()(y,"components",{QBtn:B.Z});var C=a(7990),S=a(9466);const W=(0,n.HX)("data-v-886ea952");(0,n.dD)("data-v-886ea952");const A={class:"ask-wrapper"},F={class:"ask-wrapper__header"},D={class:"row"},Z={class:"col-12 col-md-12 col-xs-12"},L={class:"text-main-alternate"},N={class:"text-main-alternate-light"},P={class:"row"},T={class:"col-12 col-md-12 col-xs-12"},Q={class:"ask-wrapper__footer"},H={class:"row"},I={class:"col-12 col-md-12 col-xs-12 flex items-center justify-center"};(0,n.Cn)();const V=W(((e,t,a,i,s,o)=>((0,n.wg)(),(0,n.j4)("div",A,[(0,n.Wm)("div",F,[(0,n.Wm)("div",D,[(0,n.Wm)("div",Z,[(0,n.Wm)("h2",L,(0,g.zw)(a.title),1),(0,n.Wm)("p",N,(0,g.zw)(a.subtitle),1)])])]),(0,n.Wm)("div",{class:["ask-wrapper__content",o.selectAlignContent]},[(0,n.Wm)("div",P,[(0,n.Wm)("div",T,[(0,n.WI)(e.$slots,"content",{},void 0,!0)])])],2),(0,n.Wm)("div",Q,[(0,n.Wm)("div",H,[(0,n.Wm)("div",I,[(0,n.WI)(e.$slots,"action",{},void 0,!0)])])])])))),q={name:"Ask",props:{color:{type:String,default:"main-primary",validate:e=>-1!==["main-primary"].indexOf(e)},type:{type:String,default:"squared",validate:e=>-1!==["rounded","squared"].indexOf(e)},selected:{type:Boolean,default:!1,validate:e=>-1!==[!0,!1].indexOf(e)},title:{type:String,default:"Insert your title"},subtitle:{type:String,default:"Insert your subTitle"},alignContent:{type:String,default:"center",validate:e=>-1!==["start","center","end"].indexOf(e)}},computed:{selectAlignContent(){switch(this.alignContent){case"start":return"ask-wrapper__content--align-start";case"end":return"ask-wrapper__content--align-end";default:return"ask-wrapper__content--align-center"}}}};q.render=V,q.__scopeId="data-v-886ea952";const O=q;var U=a(5650),$=a(3971),j=a(9535);const R=(0,n.HX)("data-v-af7e54ea");(0,n.dD)("data-v-af7e54ea");const M={class:"feedback-dialog__text feedback-dialog__title mb-1 mt-1"},E={class:"feedback-dialog__text feedback-dialog__subtitle"};(0,n.Cn)();const G=R(((e,t,a,i,s,o)=>{const l=(0,n.up)("q-img"),r=(0,n.up)("q-card-section"),d=(0,n.up)("Button"),c=(0,n.up)("q-card"),p=(0,n.up)("QDialog");return(0,n.wg)(),(0,n.j4)(p,(0,n.dG)(e.$attrs,{"model-value":a.active,position:"bottom",persistent:"","full-width":""}),{default:R((()=>[(0,n.Wm)(c,{class:"feedback-dialog__card text-center"},{default:R((()=>[(0,n.Wm)(r,{class:"mt-5"},{default:R((()=>[(0,n.Wm)(l,{src:`/assets/images/${a.icon}`,width:"80px"},null,8,["src"]),(0,n.Wm)("h1",M,(0,g.zw)(a.title),1),(0,n.Wm)("h2",E,(0,g.zw)(a.subtitle),1)])),_:1}),(0,n.Wm)(r,{class:"mb-3"},{default:R((()=>[a.subButtonText?((0,n.wg)(),(0,n.j4)(d,{key:0,class:"main-button no-shadow text-weight-bold mb-2",color:"secondary-bordless",label:a.subButtonText,onClick:a.subAction,outline:"","no-caps":""},null,8,["label","onClick"])):(0,n.kq)("",!0),(0,n.Wm)(d,{class:"feedback-dialog__button main-button no-shadow",color:"alternate-filled",label:a.buttonText,onClick:a.action,"no-caps":"",flat:""},null,8,["label","onClick"])])),_:1})])),_:1})])),_:1},16,["model-value"])}));var z=a(5926);const X={name:"Feedback",components:{QDialog:z.Z,Button:f.Z},props:{active:{type:Boolean,default:!0},title:{type:String},subtitle:{type:String},buttonText:{type:String},subButtonText:{type:String},action:{type:Function},subAction:{type:Function},icon:{type:String,default:"feedback/check.png"}}};var J=a(151),Y=a(5589),K=a(4027);X.render=G,X.__scopeId="data-v-af7e54ea";const ee=X;_()(X,"components",{QCard:J.Z,QCardSection:Y.Z,QImg:K.Z});const te={name:"PetRegister",components:{Title:b.Z,Button:f.Z,Ask:O,MainButton:x,AuthContainer:C.Z,LoadingCircle:S.Z,ButtonCheckboxGroup:h.Z,TextField:U.Z,SearchField:$.Z,Checkbox:j.ZP,Feedback:ee},data(){return{test:null,ageOptions:[{label:"Filhote atÃ© 6 meses",selected:!1},{label:"Filhote atÃ© 1,5 anos",selected:!1},{label:"Adulto",selected:!1},{label:"SÃªnior",selected:!1}],detailOptions:[{label:"Adotado",selected:!1},{label:"Castrado",selected:!1},{label:"Com deficiÃªncia",selected:!1},{label:"De serviÃ§o",selected:!1}],form:{petName:"",petAge:null,petBreed:{isUnknown:!1,name:"",searchName:""},petDetails:null},createdPet:null,listOptions:[{id:1,name:"Akita"},{id:2,name:"Yorkshire"},{id:3,name:"Yorkshire Terrier"},{id:4,name:"Vira-lata"},{id:5,name:"Splitz AlemÃ£o"},{id:6,name:"DÃ¡lmata"}],step:1,loading:!1,formHasError:[!1,!1],btnDisabled:!0,breedsList:[]}},computed:m()(m()({},(0,u.rn)("petRegister",{breedsData:"breeds",registerPetData:"registerPet"})),{},{petAgeFilled(){return!!this.form.petAge},petBreedFilled(){return!(!this.form.petBreed.name&&!this.form.petBreed.isUnknown)},petDetailsFilled(){return!!this.form.petDetails}}),beforeMount(){},mounted(){this.ActionSetHomeMenuVisibility(!1)},beforeRouteLeave(e,t,a){this.ActionSetHomeMenuVisibility(!0),a()},methods:m()(m()(m()({},(0,u.nv)("pets",["ActionSetHomeMenuVisibility","ActionCreatePet"])),(0,u.nv)("petRegister",["ActionGetBreeds","ActionRegisterPet"])),{},{searchBreed(){let e=[];const t=this;this.form.petBreed.searchName?(e=this.breedsData.data.filter((function(e){return e.breed.toUpperCase().includes(t.form.petBreed.searchName.toUpperCase())})),this.formatBreedList(e)):(this.breedsList=[],this.formatBreedList(this.breedsData.data))},formatBreedList(e){let t=[];e.length>0&&(t=e.map((function(e){return{label:e.breed,selected:!1}}))),this.breedsList=t},noBreedHandler(){this.form.petBreed.isUnknown?(this.form.petBreed.searchName="",this.form.petBreed.name="Sem raÃ§a",this.breedsList=[]):(this.form.petBreed.name="",this.formatBreedList(this.breedsData.data))},goToHome(){this.$router.push({name:"home"})},async nextStep(){this.step++},async registerPet(){const e=this.formatForm();await this.ActionRegisterPet(e),this.registerPetData.error||this.nextStep()},formatForm(){let e=JSON.parse(JSON.stringify(this.form));return e={name:e.petName,breed:e.petBreed.name,age:this.mapAge(e.petAge.label),gender:"male",type:"canine",is_adopted:e.petDetails.includes("Adotado"),is_neutered:e.petDetails.includes("Castrado"),is_deficiency:e.petDetails.includes("Com deficiÃªncia"),is_service:e.petDetails.includes("De serviÃ§o")},e},mapAge(e){switch(e){case"Filhote atÃ© 6 meses":return"SIX_MONTS";case"Filhote atÃ© 1,5 anos":return"EIGHTEEN_MONTS";case"Adulto":return"ADULT";default:return"SENIOR"}},backStep(){this.step>1?this.step--:this.$router.push({name:"home"})},async onSubmit(){const e={name:this.form.petName,gender:this.form.petGender,profilePet:this.parseProfilePet(this.form.petProfile),birthdate:`${this.form.year}-${this.form.month}-${this.form.day}`,breed:this.form.petBreed.isUnknown?"unknown":this.form.petBreed.name,details:this.form.petDetails,togetherBy:Number(this.form.howLong)};this.loading=!0;const t=await this.ActionCreatePet(e);t.id&&(this.createdPet=t,this.nextStep()),this.loading=!1},finishRegister(){this.$router.push({name:"petdetails",params:{id:`${this.createdPet.id}`}})},selectedHandler(e,t){t.length>0?("petBreed"!==e&&(this.form[e]=[]),"petAge"===e?this.form[e]=t[0]:"petBreed"===e?this.form[e].name=t[0].label:this.form[e]=t):this.form[e]=null}}),async created(){await this.ActionGetBreeds(),this.formatBreedList(this.breedsData.data)}};var ae=a(3066),ne=a(9570),ie=a(7011),se=a(3414),oe=a(2035),le=a(2350),re=a(5869),de=a(6489);te.render=c;const ce=te;_()(te,"components",{QLayout:ae.Z,QToolbar:ne.Z,QBtn:B.Z,QList:ie.Z,QItem:se.Z,QItemSection:oe.Z,QItemLabel:le.Z,QSeparator:re.Z}),_()(te,"directives",{Ripple:de.Z})}}]);