(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[778],{8778:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>W});a(71);var o=a(3673),l=a(8880);const n=(0,o.HX)("data-v-6ef2e2d5");(0,o.dD)("data-v-6ef2e2d5");const i={class:"forget-password__bottom-modal"},s={class:"row pl-5 pr-5 pt-5",style:{"z-index":"1"}},d={class:"col-12"},r={class:"col-12",align:"center"},u={key:0,class:"col-12 error text-center mt-3",align:"center"},c=(0,o.Wm)("p",{class:"text-status-danger"}," Nosso servidor está passando por problemas. Tente mais tarde. ",-1),m={key:1,class:"flex flex-center q-mt-xl"},p={key:2,class:"forget-password__dialog"};(0,o.Cn)();const b=n(((e,t,a,b,k,f)=>{const h=(0,o.up)("Logo"),g=(0,o.up)("Title"),S=(0,o.up)("TextField"),E=(0,o.up)("Button"),T=(0,o.up)("AuthContainer"),v=(0,o.up)("LoadingCircle"),M=(0,o.up)("FeedbackModal"),w=(0,o.up)("SupportModal");return(0,o.wg)(),(0,o.j4)("div",null,[e.loading?((0,o.wg)(),(0,o.j4)("div",m,[(0,o.Wm)(v,{color:"status-waiting",size:"6em",thickness:5})])):((0,o.wg)(),(0,o.j4)(T,{key:0,"has-background":""},{default:n((()=>[(0,o.Wm)(h,{class:"ml-4 mt-4"}),(0,o.Wm)("div",null,[(0,o.Wm)(g,{text:"Recupere sua conta",subtitle:"Entraremos em contato com instruções para recuperação da sua conta",class:"ml-4 mr-4 mb-4 pt-6"}),(0,o.Wm)("div",i,[(0,o.Wm)("div",s,[(0,o.Wm)("div",d,[(0,o.Wm)("form",{ref:"form",onSubmit:t[2]||(t[2]=(0,l.iM)(((...t)=>e.onSubmitEmail&&e.onSubmitEmail(...t)),["prevent","stop"]))},[(0,o.Wm)(S,{modelValue:e.form.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.email=t),class:"mb-1",type:"email",label:e.$t("login.email.label"),clearable:"",rules:[t=>!!t||e.$t("login.email.error"),t=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(t)||e.$t("login.email.invalid")],icon:"mail",prepend:""},null,8,["modelValue","label","rules"])],544)]),(0,o.Wm)("div",r,[(0,o.Wm)(E,{onClick:e.onSubmitEmail,color:"primary-filled",class:"main-button no-shadow mt-2",type:"submit",label:"Enviar e-mail","no-caps":""},null,8,["onClick"]),(0,o.Wm)(E,{onClick:e.goToLogin,color:"secondary-outline",class:"main-button no-shadow mt-3",type:"submit",label:"Cancelar","no-caps":""},null,8,["onClick"])]),e.getSendTokenError?((0,o.wg)(),(0,o.j4)("div",u,[c])):(0,o.kq)("",!0)])])])])),_:1})),e.feedbackModalStatus||e.supportModalStatus?((0,o.wg)(),(0,o.j4)("div",p,[(0,o.Wm)(M,{active:e.feedbackModalStatus,icon:e.feedbackIcon,title:e.feedbackModalTitle,subtitle:e.feedbackModalSubtitle,buttonText:e.feedbackModalButtonText,subButtonText:e.feedbackModalSubButtonText,action:e.goToLogin,subAction:e.sendAgain},null,8,["active","icon","title","subtitle","buttonText","subButtonText","action","subAction"]),(0,o.Wm)(w,{active:e.supportModalStatus,onHide:e.hideSupportModal,action:e.hideSupportModal},null,8,["active","onHide","action"])])):(0,o.kq)("",!0)])}));var k=a(515),f=a.n(k),h=a(7874),g=a(5938),S=a(170),E=a(6548),T=a(5358),v=a(2445),M=a(9836),w=a(8785),R=a(7271);const x=a(8651),C={name:"ForgetPassword",components:{Title:S.Z,AuthContainer:v.Z,LoadingCircle:M.Z,TextField:T.Z,Button:E.Z,Logo:g.Z,FeedbackModal:w.Z,SupportModal:R.Z},data(){return{form:{email:""},loading:!1,feedbackModalStatus:!1,supportModalStatus:!1,feedbackModalTitle:"E-mail enviado",feedbackModalSubtitle:"Enviamos um link especial para você recuperar sua conta",feedbackModalButtonText:"Voltar para início",feedbackModalSubButtonText:"Enviar novamente"}},computed:f()(f()({},(0,h.Se)("auth",["getSendTokenError"])),{},{formIsValid(){return 0!==this.form.email.length&&/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(this.form.email)},feedbackIcon(){return x}}),created(){this.RESET_ERROR_RECOVERSENDTOKEN()},methods:f()(f()(f()({},(0,h.nv)("auth",["ActionLogin","ActionRecoverSendToken"])),(0,h.OI)("auth",["RESET_ERROR_RECOVERSENDTOKEN"])),{},{nextStep(){},async onSubmitEmail(){if(!this.formIsValid)return;this.loading=!0;const e=await this.sendEmailToken();e&&(this.RESET_ERROR_RECOVERSENDTOKEN(),this.$router.push({name:"TokenConfirm",params:{from:"esqueci-senha"}})),this.loading=!1},async sendEmailToken(){const e={email:this.form.email};return await this.ActionRecoverSendToken(e)},showFeedbackModal(){this.feedbackModalStatus=!0},showSupportModal(){this.supportModalStatus=!0},hideSupportModal(){this.supportModalStatus=!1},goToLogin(){this.$router.push({name:"hub"})},sendAgain(){}})};C.render=b,C.__scopeId="data-v-6ef2e2d5";const W=C}}]);