(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[910],{4895:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>O});l(71);var a=l(3673),i=l(2323),r=l(8880);const s={key:0,class:"auth-form-content"},o={class:"termos-container"},n={class:"mimo-text__h3"},m={class:"row q-mt-xl"},u={class:"col-12"},d={class:"flex flex-center"},c={key:4,class:"auth-form-content"},p={class:"row"},b={class:"col-12"},f={class:"flex flex-center q-py-xl"},w={class:"row"},h={class:"col-12"},g={class:"flex flex-center q-py-xl"},v={class:"row items-center justify-end"},x={class:"row"},W={class:"col-12"},$={class:"flex flex-center"},y={key:1,class:"flex flex-center q-mt-xl"};function S(e,t,l,S,V,k){const Z=(0,a.up)("Title"),I=(0,a.up)("MainButton"),_=(0,a.up)("q-input"),j=(0,a.up)("SingleLineForm"),E=(0,a.up)("q-btn-toggle"),q=(0,a.up)("q-btn"),C=(0,a.up)("q-date"),A=(0,a.up)("q-popup-proxy"),F=(0,a.up)("q-icon"),M=(0,a.up)("Container"),T=(0,a.up)("LoadingCircle"),z=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)("div",null,[e.loading?((0,a.wg)(),(0,a.j4)("div",y,[(0,a.Wm)(T)])):((0,a.wg)(),(0,a.j4)(M,{key:0},{default:(0,a.w5)((()=>[1==e.step?((0,a.wg)(),(0,a.j4)("div",s,[(0,a.Wm)("div",null,[(0,a.Wm)(Z,{text:e.$t("create.terms.title"),subtitle:e.$t("create.terms.subtitle")},null,8,["text","subtitle"])]),(0,a.Wm)("div",o,[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.$t("create.terms.data"),((e,t)=>((0,a.wg)(),(0,a.j4)("div",{key:`term_${t}`},[(0,a.Wm)("h3",n,(0,i.zw)(e.head),1),((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.body,((e,t)=>((0,a.wg)(),(0,a.j4)("p",{key:`term_item_${t}`,class:"text-weight-bold mimo-text"},(0,i.zw)(e),1)))),128))])))),128)),(0,a.Wm)("div",m,[(0,a.Wm)("div",u,[(0,a.Wm)("div",d,[(0,a.Wm)(I,{type:"submit",label:e.$t("create.terms.mainbutton"),click:e.nextStep,loading:!1},null,8,["label","click"])])])])])])):2==e.step?((0,a.wg)(),(0,a.j4)(j,{key:1,title:e.$t("create.email.title"),subtitle:e.$t("create.email.subtitle"),"btn-label":e.$t("create.email.mainbutton"),loading:!1,"on-submit":e.onSubmitEmail,valid:e.emailIsValid},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{ref:"email",modelValue:e.form.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.email=t),borderless:"",type:"email",label:e.$t("create.email.label"),hint:"","input-class":"single-line-input-pattern",class:"single-input","no-error-icon":"","lazy-rules":"",error:e.showError.email&&!e.emailIsValid,"error-message":e.$t("create.email.error"),onFocus:t[2]||(t[2]=t=>e.showError.email=!0)},null,8,["modelValue","label","error","error-message"])])),_:1},8,["title","subtitle","btn-label","on-submit","valid"])):3==e.step?((0,a.wg)(),(0,a.j4)(j,{key:2,title:e.$t("create.password.title"),subtitle:e.$t("create.password.subtitle"),"btn-label":e.$t("create.password.mainbutton"),loading:!1,"on-submit":e.onSubmitPassword,valid:e.passwordIsValid},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{ref:"password",modelValue:e.form.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.password=t),borderless:"",type:"text",label:e.$t("create.password.label"),hint:"","input-class":"single-line-input-pattern",class:"single-input","no-error-icon":"",error:e.showError.password&&!e.passwordIsValid,rules:e.showError.password?[t=>!!t||e.$t("create.password.error.required"),t=>/^(?=.*[a-z])/.test(t)||e.$t("create.password.error.lowercase"),t=>/^(?=.*[A-Z])/.test(t)||e.$t("create.password.error.uppercase"),t=>/^(?=.*[0-9])/.test(t)||e.$t("create.password.error.number"),t=>/^(?=.*[!@#\$%\^&\*])/.test(t)||e.$t("create.password.error.specialCharacter"),t=>/^(?=.{8,})/.test(t)||e.$t("create.password.error.length")]:[],onFocus:t[4]||(t[4]=t=>e.showError.password=!0)},null,8,["modelValue","label","error","rules"])])),_:1},8,["title","subtitle","btn-label","on-submit","valid"])):4==e.step?((0,a.wg)(),(0,a.j4)(j,{key:3,title:e.$t("create.name.title"),subtitle:e.$t("create.name.subtitle"),"btn-label":e.$t("create.name.mainbutton"),loading:!1,"on-submit":e.onSubmitName,valid:e.nameIsValid},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{ref:"user_name",modelValue:e.form.nickname,"onUpdate:modelValue":t[5]||(t[5]=t=>e.form.nickname=t),borderless:"",type:"text",label:e.$t("create.name.label"),hint:"","input-class":"single-line-input-pattern",class:"single-input","no-error-icon":""},null,8,["modelValue","label"])])),_:1},8,["title","subtitle","btn-label","on-submit","valid"])):5==e.step?((0,a.wg)(),(0,a.j4)("div",c,[(0,a.Wm)("div",null,[(0,a.Wm)(Z,{text:e.$t("create.identification.title")},null,8,["text"]),(0,a.Wm)("div",p,[(0,a.Wm)("div",b,[(0,a.Wm)("div",f,[(0,a.Wm)("form",{onSubmit:t[7]||(t[7]=(0,r.iM)(((...t)=>e.onSubmitExtra&&e.onSubmitExtra(...t)),["prevent","stop"]))},[(0,a.Wm)(E,{modelValue:e.form.identificationTutor,"onUpdate:modelValue":t[6]||(t[6]=t=>e.form.identificationTutor=t),"text-color":"grey-4","toggle-text-color":"secondary",class:"genre-toggle",outline:"",unelevated:"","no-caps":"",options:[{label:e.$t("create.identification.label.mother"),value:"mother"},{label:e.$t("create.identification.label.father"),value:"father"}]},null,8,["modelValue","options"])],32)])])])]),(0,a.Wm)("div",null,[(0,a.Wm)(Z,{text:e.$t("create.birthDate.title")},null,8,["text"]),(0,a.Wm)("div",w,[(0,a.Wm)("div",h,[(0,a.Wm)("div",g,[(0,a.Wm)("form",{onSubmit:t[10]||(t[10]=(0,r.iM)(((...t)=>e.onSubmitExtra&&e.onSubmitExtra(...t)),["prevent","stop"]))},[(0,a.Wm)(_,{modelValue:e.form.birthdate,"onUpdate:modelValue":t[9]||(t[9]=t=>e.form.birthdate=t),borderless:"","input-class":"single-line-input-pattern",class:"single-input",mask:"##-##-####","no-error-icon":"",rules:[t=>10==t.length||e.$t("create.birthDate.error")]},{append:(0,a.w5)((()=>[(0,a.Wm)(F,{name:"event",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{modelValue:e.form.birthdate,"onUpdate:modelValue":t[8]||(t[8]=t=>e.form.birthdate=t),mask:"DD-MM-YYYY"},{default:(0,a.w5)((()=>[(0,a.Wm)("div",v,[(0,a.wy)((0,a.Wm)(q,{label:"Close",color:"primary",flat:""},null,512),[[z]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"])],32)])])])]),(0,a.Wm)("div",x,[(0,a.Wm)("div",W,[(0,a.Wm)("div",$,[(0,a.Wm)(I,{type:"submit",label:e.$t("create.birthDate.mainbutton"),click:e.onSubmitExtra,loading:!1,disable:!e.extraIsValid},null,8,["label","click","disable"])])])])])):(0,a.kq)("",!0)])),_:1}))])}var V=l(515),k=l.n(V),Z=l(7874),I=l(9221),_=l(9394),j=l(4886);const E={class:"auth-form-content"},q={class:"row"},C={class:"col-12"},A={class:"row"},F={class:"col-12"},M={class:"flex flex-center"};function T(e,t,l,i,s,o){const n=(0,a.up)("Title"),m=(0,a.up)("MainButton");return(0,a.wg)(),(0,a.j4)("div",E,[(0,a.Wm)(n,{text:l.title,subtitle:l.subtitle},null,8,["text","subtitle"]),(0,a.Wm)("div",q,[(0,a.Wm)("div",C,[(0,a.Wm)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>l.onSubmit&&l.onSubmit(...e)),["prevent","stop"]))},[(0,a.WI)(e.$slots,"default")],32)])]),(0,a.Wm)("div",A,[(0,a.Wm)("div",F,[(0,a.Wm)("div",M,[(0,a.Wm)(m,{type:"submit",label:l.btnLabel,click:l.onSubmit,loading:l.loading,disable:!l.valid},null,8,["label","click","loading","disable"])])])])])}const z={name:"SingleLineForm",components:{Title:I.Z,MainButton:_.Z},props:{loading:{type:Boolean,default:!1},valid:{type:Boolean,default:!1},onSubmit:{type:Function,default:()=>{}},title:{type:String,default:""},subtitle:{type:String,default:""},btnLabel:{type:String,default:"Submeter"}},data(){return{}}};z.render=T;const B=z;var U=l(9466);const D={name:"CreateAccount",components:{Title:I.Z,Container:j.Z,MainButton:_.Z,LoadingCircle:U.Z,SingleLineForm:B},data(){return{showError:{email:!1,password:!1},form:{email:"",password:"",nickname:"",identificationTutor:"mother",birthdate:""},pattern:{email:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,name:/^(?=.{3,})/},step:1,maxStep:5,loading:!1}},computed:{emailIsValid(){return this.validateField(this.form.email,this.pattern.email)},passwordIsValid(){return this.validateField(this.form.password,this.pattern.password)},nameIsValid(){return this.validateField(this.form.nickname,this.pattern.name)},extraIsValid(){return""!==this.form.identificationTutor&&10===this.form.birthdate.length}},beforeMount(){},mounted(){},methods:k()(k()({},(0,Z.nv)("auth",["ActionCreateAccount"])),{},{nextStep(){this.step<this.maxStep&&(this.step+=1)},previousStep(){this.step>1&&(this.step-=1)},validateField(e,t){return!(!e||!t)&&t.test(e)},onSubmitEmail(){this.emailIsValid&&this.nextStep()},onSubmitPassword(){this.$refs.password.validate()&&this.nextStep()},onSubmitName(){this.nameIsValid&&this.nextStep()},async onSubmitExtra(){this.extraIsValid&&(this.nextStep(),await this.submitNewUser())},async submitNewUser(){this.loading=!0,await this.ActionCreateAccount(this.form),this.loading=!1}})};var L=l(1206),Q=l(8761),P=l(4554),Y=l(9108),N=l(9758),H=l(8240),K=l(677),G=l(7518),J=l.n(G);D.render=S;const O=D;J()(D,"components",{QInput:L.Z,QBtnToggle:Q.Z,QIcon:P.Z,QPopupProxy:Y.Z,QDate:N.Z,QBtn:H.Z}),J()(D,"directives",{ClosePopup:K.Z})}}]);