(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[663],{6237:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>A});var i=o(3673);const a=(0,i.HX)("data-v-0b7b6e35");(0,i.dD)("data-v-0b7b6e35");const l={key:0,class:"q-pa-xs pet-profile-container"},n={class:"pet-profile-row q-pt-md"},s={class:"flex"},d={key:0,class:"row"},c={class:"col-12 flex flex-center"},r={class:"row"},m={key:1,class:"flex flex-center q-mt-xl"};(0,i.Cn)();const u=a(((e,t,o,u,p,h)=>{const b=(0,i.up)("q-btn"),f=(0,i.up)("q-toolbar"),M=(0,i.up)("pet-profile-component"),P=(0,i.up)("ActionModal"),D=(0,i.up)("ConfirmDeleteModal"),T=(0,i.up)("FeedbackModal"),g=(0,i.up)("LoadingCircle");return e.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)("div",l,[(0,i.Wm)(f,{class:"text-primary"},{default:a((()=>[(0,i.Wm)("div",n,[(0,i.Wm)(b,{flat:"",round:"",color:"utilities-alternate",size:"md",icon:"arrow_back",to:"/"}),(0,i.Wm)("div",s,[(0,i.Wm)(b,{flat:"",round:"",color:"utilities-alternate",size:"md",icon:"edit",to:`/pet/${e.petID}/detalhes`},null,8,["to"])])])])),_:1}),e.petProfile.loading?((0,i.wg)(),(0,i.j4)("div",m,[(0,i.Wm)(g,{color:"status-waiting",size:"6em",thickness:5})])):((0,i.wg)(),(0,i.j4)("div",d,[(0,i.Wm)("div",c,[(0,i.Wm)("div",r,[(0,i.Wm)(M,{data:e.petProfile.data},null,8,["data"]),(0,i.Wm)(P,{content:e.deletePetModal,onHide:e.hideDeletePetModal,onSubmit:e.showConfirmDeleteModal},null,8,["content","onHide","onSubmit"]),(0,i.Wm)(D,{active:e.confirmDeleteModal.status,title:e.confirmDeleteModal.title,subtitle:e.confirmDeleteModal.subtitle,inputTextPlaceholder:e.confirmDeleteModal.inputTextPlaceholder,buttonText:e.confirmDeleteModal.buttonText,action:e.confirmDeleteModal.action,toCompare:e.confirmDeleteModal.toCompare},null,8,["active","title","subtitle","inputTextPlaceholder","buttonText","action","toCompare"]),(0,i.Wm)(T,{active:e.feedbackModal.status,icon:e.feedbackModal.icon,title:e.feedbackModal.title,subtitle:e.feedbackModal.subtitle,buttonText:e.feedbackModal.buttonText,action:e.feedbackModal.action},null,8,["active","icon","title","subtitle","buttonText","action"])])])]))]))}));var p=o(515),h=o.n(p),b=o(9836),f=o(7874),M=o(942),P=o(3314),D=o(8785),T=o(8562),g=o(5949);const k=o(1244),E={name:"PetProfile",components:{LoadingCircle:b.Z,ConfirmDeleteModal:M.Z,PetProfileComponent:T.Z,ActionModal:P.Z,FeedbackModal:D.Z},data(){return{petID:this.$route.params.id,confirmDeleteModal:{status:!1,title:"Confirme exclusão do pet",subtitle:"",inputTextPlaceholder:"Nome do pet",buttonText:"Confirmar",action:()=>{this.deletePet()},toCompare:null,hide:()=>{this.hideConfirmDeleteModal()}},feedbackModal:{status:!1,icon:k,title:"Pet excluído",subtitle:"Todos os registros deste pet foram excluídos com sucesso!",buttonText:"Voltar",action:()=>{this.hideFeedbackModal(),this.goToHome()}},loading:!1}},computed:h()(h()({},(0,f.rn)("pets",["petProfile","loadingPets","deletePetModal","mainPet"])),(0,f.rn)("auth",["user"])),async created(){this.loading=!0,await this.loadData(),await this.ActionSetHomeMenuVisibility(!1),this.loading=!1},beforeRouteLeave(e,t,o){this.ActionSetLoadingPet(!0),this.ActionSetHomeMenuVisibility(!0),o()},methods:h()(h()(h()(h()({},(0,f.nv)("pets",["ActionGetPetById","ActionCommitPet","ActionSetLoadingPet","ActionDeleteMainPet","ActionSetHomeMenuVisibility"])),(0,f.OI)("pets",{SET_DELETEPETMODAL:"PETS/SET_DELETEPETMODAL",SET_MAINPET:"PETS/SET_MAINPET"})),g.Z),{},{isEmptyObject(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype},async getSubtitle(){if(!this.isEmptyObject(this.petProfile.data)){const e=this.petProfile.data.name;this.confirmDeleteModal.subtitle=`Insira o nome do animal ${e} para excluir definitivamente os dados`}},async getMainPetData(){return await this.ActionGetPetById(this.$route.params.id)},async loadData(){const e=await this.getMainPetData();e&&(this.getSubtitle(),this.getCompareInfo())},async deletePet(){this.ActionSetLoadingPet(!0);const e=await this.ActionDeleteMainPet(this.petID);e&&(this.SET_MAINPET({}),this.hideConfirmDeleteModal(),this.showFeedbackModal()),this.ActionSetLoadingPet(!1)},async getCompareInfo(){this.isEmptyObject(this.petProfile.data)||(this.confirmDeleteModal.toCompare=this.petProfile.data.name)},hideDeletePetModal(){const e={modal:!1,data:{title:"",message:"",btnLabel:"",backLabel:""}};this.SET_DELETEPETMODAL(e)},showConfirmDeleteModal(){this.hideDeletePetModal(),this.confirmDeleteModal.status=!0},hideConfirmDeleteModal(){this.confirmDeleteModal.status=!1},goToHome(){this.$router.push({name:"home"})},hideFeedbackModal(){this.feedbackModal.status=!1},showFeedbackModal(){this.feedbackModal.status=!0}})};var x=o(9570),C=o(8240),y=o(7518),v=o.n(y);E.render=u,E.__scopeId="data-v-0b7b6e35";const A=E;v()(E,"components",{QToolbar:x.Z,QBtn:C.Z})}}]);