(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[742],{742:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});a(71);var o=a(3673),l=a(8880),n=a(2323);const i=(0,o.HX)("data-v-4bec56b6");(0,o.dD)("data-v-4bec56b6");const s={class:"forget-password__bottom-modal"},r={class:"row pl-5 pr-5 pt-5",style:{"z-index":"1"}},d={class:"col-12"},u={class:"col-12",align:"center"},c={key:0,class:"col-12 error text-center mt-3",align:"center"},m={class:"text-status-danger"},p={key:1,class:"flex flex-center q-mt-xl"},b={key:2,class:"forget-password__dialog"};(0,o.Cn)();const k=i(((e,t,a,k,g,h)=>{const S=(0,o.up)("Logo"),f=(0,o.up)("Title"),E=(0,o.up)("TextField"),T=(0,o.up)("Button"),v=(0,o.up)("AuthContainer"),M=(0,o.up)("LoadingCircle"),R=(0,o.up)("FeedbackModal"),w=(0,o.up)("SupportModal");return(0,o.wg)(),(0,o.j4)("div",null,[e.loading?((0,o.wg)(),(0,o.j4)("div",p,[(0,o.Wm)(M,{color:"status-waiting",size:"6em",thickness:5})])):((0,o.wg)(),(0,o.j4)(v,{key:0,"has-background":""},{default:i((()=>[(0,o.Wm)(S,{class:"ml-4 mt-4"}),(0,o.Wm)("div",null,[(0,o.Wm)(f,{text:"Recupere sua conta",subtitle:"Entraremos em contato com instruções para recuperação da sua conta",class:"ml-4 mr-4 mb-4 pt-6"}),(0,o.Wm)("div",s,[(0,o.Wm)("div",r,[(0,o.Wm)("div",d,[(0,o.Wm)("form",{ref:"form",onSubmit:t[2]||(t[2]=(0,l.iM)(((...t)=>e.onSubmitEmail&&e.onSubmitEmail(...t)),["prevent","stop"]))},[(0,o.Wm)(E,{modelValue:e.form.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.email=t),class:"mb-1",type:"email",label:e.$t("login.email.label"),clearable:"",rules:[t=>!!t||e.$t("login.email.error")],icon:"mail",prepend:""},null,8,["modelValue","label","rules"])],544)]),(0,o.Wm)("div",u,[(0,o.Wm)(T,{onClick:e.onSubmitEmail,color:"primary-filled",class:"main-button no-shadow mt-2",type:"submit",label:"Enviar e-mail","no-caps":""},null,8,["onClick"]),(0,o.Wm)(T,{onClick:e.goToLogin,color:"secondary-outline",class:"main-button no-shadow mt-3",type:"submit",label:"Cancelar","no-caps":""},null,8,["onClick"])]),e.getSendTokenError?((0,o.wg)(),(0,o.j4)("div",c,[(0,o.Wm)("p",m,(0,n.zw)(e.getSendTokenError.data.message),1)])):(0,o.kq)("",!0)])])])])),_:1})),e.feedbackModalStatus||e.supportModalStatus?((0,o.wg)(),(0,o.j4)("div",b,[(0,o.Wm)(R,{active:e.feedbackModalStatus,icon:e.feedbackIcon,title:e.feedbackModalTitle,subtitle:e.feedbackModalSubtitle,buttonText:e.feedbackModalButtonText,subButtonText:e.feedbackModalSubButtonText,action:e.goToLogin,subAction:e.sendAgain},null,8,["active","icon","title","subtitle","buttonText","subButtonText","action","subAction"]),(0,o.Wm)(w,{active:e.supportModalStatus,onHide:e.hideSupportModal,action:e.hideSupportModal},null,8,["active","onHide","action"])])):(0,o.kq)("",!0)])}));var g=a(515),h=a.n(g),S=a(7874),f=a(5938),E=a(170),T=a(6548),v=a(5358),M=a(2445),R=a(9836),w=a(8785),x=a(7271);const C=a(8651),W={name:"ForgetPassword",components:{Title:E.Z,AuthContainer:M.Z,LoadingCircle:R.Z,TextField:v.Z,Button:T.Z,Logo:f.Z,FeedbackModal:w.Z,SupportModal:x.Z},data(){return{form:{email:""},loading:!1,feedbackModalStatus:!1,supportModalStatus:!1,feedbackModalTitle:"E-mail enviado",feedbackModalSubtitle:"Enviamos um link especial para você recuperar sua conta",feedbackModalButtonText:"Voltar para início",feedbackModalSubButtonText:"Enviar novamente"}},computed:h()(h()({},(0,S.Se)("auth",["getSendTokenError"])),{},{formIsValid(){return 0!==this.form.email.length},feedbackIcon(){return C}}),created(){this.RESET_ERROR_RECOVERSENDTOKEN()},methods:h()(h()(h()({},(0,S.nv)("auth",["ActionLogin","ActionRecoverSendToken"])),(0,S.OI)("auth",["RESET_ERROR_RECOVERSENDTOKEN"])),{},{nextStep(){},async onSubmitEmail(){if(!this.formIsValid)return;this.loading=!0;const e=await this.sendEmailToken();e&&(this.RESET_ERROR_RECOVERSENDTOKEN(),this.$router.push({name:"TokenConfirm",params:{from:"esqueci-senha"}})),this.loading=!1},async sendEmailToken(){const e={email:this.form.email};return await this.ActionRecoverSendToken(e)},showFeedbackModal(){this.feedbackModalStatus=!0},showSupportModal(){this.supportModalStatus=!0},hideSupportModal(){this.supportModalStatus=!1},goToLogin(){this.$router.push({name:"hub"})},sendAgain(){}})};W.render=k,W.__scopeId="data-v-4bec56b6";const _=W}}]);