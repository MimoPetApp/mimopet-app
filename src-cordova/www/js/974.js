(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[974],{6749:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>D});var a=t(3673);const n={class:"video-step"},o={key:0,class:""},s={class:"video-step__header column justify-between p-4"},d={align:"left"},c={align:"right"},l=(0,a.Uk)(" Finalizar "),r={class:"column justify-center",style:{height:"100vh"}},u={class:"flex flex-center mr-4 ml-4"},p={key:1,class:"flex flex-center q-mt-xl"};function m(e,i,t,m,h,g){const v=(0,a.up)("q-icon"),b=(0,a.up)("q-btn"),k=(0,a.up)("VideoPlayer"),_=(0,a.up)("LoadingCircle"),f=(0,a.up)("FeedbackModal");return(0,a.wg)(),(0,a.j4)("div",n,[e.loadingTrainings?((0,a.wg)(),(0,a.j4)("div",p,[(0,a.Wm)(_,{color:"status-waiting",size:"6em",thickness:5})])):((0,a.wg)(),(0,a.j4)("div",o,[(0,a.Wm)("div",s,[(0,a.Wm)("div",d,[(0,a.Wm)(b,{class:"video-step__header__btn video-step__header__btn__back",color:"main-alternate",unelevated:"",onClick:e.trainingDetailsHandler,disable:e.loading},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{name:"close",color:"main-background",size:"20px"})])),_:1},8,["onClick","disable"])]),(0,a.Wm)("div",c,[(0,a.Wm)(b,{class:"video-step__header__btn",color:"main-alternate",unelevated:"","no-caps":"",onClick:e.onFinish,loading:e.loading},{default:(0,a.w5)((()=>[l])),_:1},8,["onClick","loading"])])]),(0,a.Wm)("div",r,[(0,a.Wm)("div",u,[(0,a.Wm)(k,{video:e.video},null,8,["video"])])])])),(0,a.Wm)("div",null,[(0,a.Wm)(f,{active:e.hasFeedback,icon:e.feedbackIcon,title:"Etapa concluída",subtitle:"Parabéns, você adquiriu mais conhecimento para lidar com seu pet.",buttonText:"Voltar",action:e.trainingDetailsHandler},null,8,["active","icon","action"])])])}var h=t(515),g=t.n(h),v=t(7874),b=t(8745),k=t(6548),_=t(9836),f=t(2989),y=t(8785),w=t(6589),A=t(2034);const E=t(2530),S={components:{LoadingCircle:_.Z,Button:k.Z,Tag:f.Z,FeedbackModal:y.Z,VideoPlayer:w.Z},data(){return{currSlide:0,loading:!1,hasFeedback:!1}},computed:g()(g()({},(0,v.rn)("training",["behavior","module","video","loadingTrainings"])),{},{feedbackIcon(){return E}}),methods:g()(g()(g()(g()(g()(g()({},A.Z),b.Z),(0,v.nv)("training",["ActionGetModule","ActionGetVideo","ActionGetTraining"])),(0,v.nv)("video",["ActionUpdateVideoStepCompleted"])),(0,v.OI)("training",["SET_HAS_HEADER"])),{},{timeout(e){return new Promise((i=>setTimeout(i,e)))},async onFinish(){this.loading=!0,await this.stepDone(),this.loading=!1},showFeedbackModal(){this.hasFeedback=!0},trainingDetailsHandler(){this.goBack()},goBack(){this.$router.go(-1)},isEmptyObject(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype},isStepDone(){if(!this.isEmptyObject(this.video))return this.video.completed},async stepDone(){if(this.isStepDone())this.showFeedbackModal();else{const e=await this.ActionUpdateVideoStepCompleted({id:this.video.id,body:{completed:!0}});e&&this.showFeedbackModal()}}}),beforeRouteLeave(e,i,t){this.SET_HAS_HEADER(!0),t()},async created(){await this.ActionGetVideo(this.$route.params.idSessao)},async mounted(){this.SET_HAS_HEADER(!1)}};var W=t(8240),F=t(4554),j=t(7518),C=t.n(j);S.render=m;const D=S;C()(S,"components",{QBtn:W.Z,QIcon:F.Z})}}]);