(self["webpackChunkmimopetapp"]=self["webpackChunkmimopetapp"]||[]).push([[739],{2739:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>T});var o=t(3673);const a={class:"video-step"},n={key:0,class:""},s={class:"video-step__header column justify-between p-4"},d={align:"left"},c={align:"right"},l=(0,o.Uk)(" Finalizar "),r={class:"column justify-center",style:{height:"100vh"}},p={class:"flex flex-center mr-4 ml-4"},m={controls:"",autoplay:""},u=(0,o.Uk)(" Desculpa, o seu dipositivo não suporta vídeos incorporados, mas você pode "),h=(0,o.Uk)(" e assistir pelo seu reprodutor de mídia favorito! "),v={key:1,class:"flex flex-center q-mt-xl"};function g(e,i,t,g,b,k){const _=(0,o.up)("q-icon"),f=(0,o.up)("q-btn"),y=(0,o.up)("LoadingCircle"),w=(0,o.up)("FeedbackModal");return(0,o.wg)(),(0,o.j4)("div",a,[e.loadingTrainings?((0,o.wg)(),(0,o.j4)("div",v,[(0,o.Wm)(y,{color:"status-waiting",size:"6em",thickness:5})])):((0,o.wg)(),(0,o.j4)("div",n,[(0,o.Wm)("div",s,[(0,o.Wm)("div",d,[(0,o.Wm)(f,{class:"video-step__header__btn video-step__header__btn__back",color:"main-alternate",unelevated:"",onClick:e.trainingDetailsHandler,disable:e.loading},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{name:"close",color:"main-background",size:"20px"})])),_:1},8,["onClick","disable"])]),(0,o.Wm)("div",c,[(0,o.Wm)(f,{class:"video-step__header__btn",color:"main-alternate",unelevated:"","no-caps":"",onClick:e.onFinish,loading:e.loading},{default:(0,o.w5)((()=>[l])),_:1},8,["onClick","loading"])])]),(0,o.Wm)("div",r,[(0,o.Wm)("div",p,[(0,o.Wm)("video",m,[(0,o.Wm)("source",{src:e._getMediaUrl(e.video.item),type:e.video.mime},null,8,["src","type"]),u,(0,o.Wm)("a",{href:e._getMediaUrl(e.video.item)},"baixá-lo",8,["href"]),h])])])])),(0,o.Wm)("div",null,[(0,o.Wm)(w,{active:e.hasFeedback,icon:e.feedbackIcon,title:"Etapa concluída",subtitle:"Parabéns, você adquiriu mais conhecimento para lidar com seu pet.",buttonText:"Voltar",action:e.trainingDetailsHandler},null,8,["active","icon","action"])])])}var b=t(515),k=t.n(b),_=t(7874),f=t(8745),y=t(6548),w=t(9836),W=t(2989),A=t(8785),E=t(2034);const S=t(2530),D={components:{LoadingCircle:w.Z,Button:y.Z,Tag:W.Z,FeedbackModal:A.Z},data(){return{currSlide:0,loading:!1,hasFeedback:!1}},computed:k()(k()({},(0,_.rn)("training",["behavior","module","video","loadingTrainings"])),{},{feedbackIcon(){return S}}),methods:k()(k()(k()(k()(k()(k()({},E.Z),f.Z),(0,_.nv)("training",["ActionGetModule","ActionGetVideo","ActionGetTraining"])),(0,_.nv)("video",["ActionUpdateVideoStepCompleted"])),(0,_.OI)("training",["SET_HAS_HEADER"])),{},{timeout(e){return new Promise((i=>setTimeout(i,e)))},async onFinish(){this.loading=!0,await this.stepDone(),this.loading=!1},showFeedbackModal(){this.hasFeedback=!0},trainingDetailsHandler(){this.goBack()},goBack(){this.$router.go(-1)},isEmptyObject(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype},isStepDone(){if(!this.isEmptyObject(this.video))return this.video.completed},async stepDone(){if(this.isStepDone())this.showFeedbackModal();else{const e=await this.ActionUpdateVideoStepCompleted({id:this.video.id,body:{completed:!0}});e&&this.showFeedbackModal()}}}),beforeRouteLeave(e,i,t){this.SET_HAS_HEADER(!0),t()},async created(){await this.ActionGetVideo(this.$route.params.idSessao)},async mounted(){this.SET_HAS_HEADER(!1)}};var F=t(8240),j=t(4554),C=t(7518),H=t.n(C);D.render=g;const T=D;H()(D,"components",{QBtn:F.Z,QIcon:j.Z})}}]);